<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GreenBridge √ânergie - Onduleurs</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --topbar-h:48px;
  --header-h:72px;
  --bg:#0a4d2e;
  --green-dark:#061f14;
  --accent-2:#a8e6a1;
  --electric-yellow:#ffd600;
}

/* Global */
html,body{
  margin:0;
  padding:0;
  font-family:'Poppins', Arial, sans-serif;
  background:var(--bg);
  color:#fff;
  scroll-behavior:smooth;
}

/* Topbar */
.topbar{
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:16px;
  padding:8px 5vw;
  font-size:14px;
  height:var(--topbar-h);
  background:var(--green-dark);
  z-index:2200;
  position:relative;
}
.topbar a{ color:#fff; text-decoration:none; transition:color .3s; }
.topbar a:hover{ color:var(--accent-2); }

/* Header (kept same look; not forced fixed so layout remains similar) */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 5vw;
  background:rgba(0,0,0,0.6);
  z-index:2150;
  position:relative;
  min-height:var(--header-h);
}
.logo-text{ display:flex; align-items:center; gap:15px; }
.logo-text img{ height:60px; display:block; }
.company-name{
  font-size:36px;
  font-weight:700;
  background:linear-gradient(45deg,#7cb342,#558b2f,#33691e);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:2px 2px 6px rgba(0,0,0,.7);
}

/* Nav */
nav{ display:flex; align-items:center; gap:20px; }
nav a, nav span{ color:#fff; text-decoration:none; font-size:16px; display:flex; align-items:center; gap:8px; }
nav a:hover{ color:var(--accent-2); }

/* Desktop sub-badge to indicate which subpage is active (visible on desktop) */
.dropdown > a .sub-badge{
  margin-left:8px;
  padding:6px 10px;
  border-radius:10px;
  background: rgba(255,214,0,0.08);
  color: var(--electric-yellow);
  font-weight:800;
  font-size:13px;
  white-space:nowrap;
  display:inline-flex;
  align-items:center;
  box-shadow:0 6px 18px rgba(0,0,0,0.32);
}
@media (max-width:900px){ .dropdown > a .sub-badge{ display:none } }

/* Dropdown */
.dropdown{ position:relative; display:inline-block; }
.dropdown > a{
  font-weight:700;
  color:var(--accent-2);
  display:flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
}
.dropdown > a::after{ content:"\25BC"; font-size:12px; margin-left:6px; transition:transform .2s; }
.dropdown[aria-expanded="true"] > a::after{ transform:rotate(180deg); }
.dropdown-content{
  display:none; position:absolute; top:calc(100% + 8px); left:0; background:rgba(0,0,0,0.85);
  min-width:220px; border-radius:10px; padding:8px 0; box-shadow:0 10px 30px rgba(0,0,0,.5); z-index:2300; white-space:nowrap;
}
.dropdown.show .dropdown-content{ display:block; }
.dropdown-content li{ list-style:none; }
.dropdown-content a, .dropdown-content span{
  display:block; padding:12px 20px; font-weight:500; font-size:16px; color:#fff; text-decoration:none;
  transition:background .3s, padding-left .3s, color .3s;
}
.dropdown-content a:hover{ background:rgba(168,230,161,.18); padding-left:28px; border-radius:6px; color:var(--accent-2); }

/* Mark active submenu item (desktop) */
.dropdown-content .active-item{
  color: var(--accent-2);
  background: linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));
  border: 1px solid rgba(212,175,55,0.12);
  padding: 10px 16px;
  font-weight:800;
  border-radius:8px;
  box-shadow:0 8px 20px rgba(0,0,0,0.28);
  margin:4px 8px;
}
@media (max-width:900px){
  .dropdown-content .active-item{ margin:0; border:none; box-shadow:none; background:transparent; color:inherit; padding:10px 16px; }
}

/* Burger mobile (same logic as batterie.html) */
.burger{ display:none; width:44px; height:44px; border-radius:8px; border:none; background:transparent; align-items:center; justify-content:center; cursor:pointer; }
.burger .icon{ display:block; position:relative; width:26px; height:18px; }
.burger .icon span{ position:absolute; left:0; right:0; height:3px; background:#fff; border-radius:2px; transition:all .25s; }
.burger .icon span:nth-child(1){ top:0; } .burger .icon span:nth-child(2){ top:7.5px; } .burger .icon span:nth-child(3){ top:15px; }
.burger.open .icon span:nth-child(1){ transform: translateY(7.5px) rotate(45deg); } .burger.open .icon span:nth-child(2){ opacity:0; } .burger.open .icon span:nth-child(3){ transform: translateY(-7.5px) rotate(-45deg); }

/* Mobile nav */
.mobile-nav{ display:none; position:fixed; top:calc(var(--topbar-h) + var(--header-h)); left:0; right:0; background:var(--bg); z-index:2140; box-shadow:0 12px 40px rgba(0,0,0,.45); overflow:auto; max-height:0; transition:max-height .28s ease; }
.mobile-nav.open{ display:block; max-height:85vh; }
.mobile-nav .inner{ padding:12px 5vw; display:flex; flex-direction:column; gap:8px; align-items:stretch; }
.mobile-nav a{ padding:12px; color:#fff; width:100%; text-align:left; border-radius:8px; font-weight:700; display:flex; justify-content:space-between; align-items:center }
.mobile-nav a:hover{ background:rgba(124,179,66,0.06); color:var(--accent-2) }
.mobile-nav a.active{ background: linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03)); color:var(--accent-2) }
.mobile-nav .submenu{ display:none; flex-direction:column; padding-left:12px; margin-top:6px; margin-bottom:6px; gap:6px }
.mobile-nav .submenu a{ font-weight:600; padding:8px 12px; border-radius:6px; text-align:left }
.mobile-nav .submenu a:hover{ background:rgba(168,230,161,0.08); padding-left:18px; }

/* mobile: show current subpage on the Energie toggle */
.mobile-nav .mobile-link.active[data-current]::after {
  content: attr(data-current);
  margin-left:8px;
  padding:6px 10px;
  border-radius:8px;
  background: rgba(255,214,0,0.06);
  color: var(--electric-yellow);
  font-weight:800;
  font-size:13px;
  white-space:nowrap;
}

/* Hero */
.hero{
  display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
  height:35vh; background:url("onduleur_tech.png") center/cover no-repeat; position:relative;
}
.hero::after{ content:''; position:absolute; inset:0; background:rgba(0,0,0,.5); }
.hero-content{ position:relative; z-index:1; max-width:900px; padding:0 20px; }
.hero-content h1{ font-size:48px; margin-bottom:10px; color:#fff; }
.hero-content p{ font-size:20px; margin-bottom:20px; color:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
@media (max-width:480px){ .hero-content p{ white-space:normal; overflow:visible; text-overflow:clip; } }

/* Sections & cards (unchanged) */
.section{ padding:40px 5vw; text-align:center; }
.section h2{ font-size:36px; margin-bottom:20px; color:#a8e6a1; text-shadow:1px 1px 4px rgba(0,0,0,.5); display:flex; justify-content:center; align-items:center; gap:10px; }
.section p.description{ font-size:16px; max-width:900px; margin:0 auto 30px; line-height:1.6; text-align:center; color:#fff; }

.cards{ display:flex; gap:20px; flex-wrap:wrap; justify-content:center; }
.card{ background:#fff; color:#0a4d2e; border-radius:15px; overflow:hidden; width:280px; box-shadow:0 4px 20px rgba(0,0,0,.3); transition:transform .3s ease, box-shadow .3s ease; }
.card:hover{ transform:translateY(-8px); box-shadow:0 12px 30px rgba(0,0,0,.6); }
.card img{ width:100%; height:180px; object-fit:contain; background:#f8f8f8; }
.card-content{ padding:20px; text-align:center; }
.card-content h3{ font-size:20px; margin-bottom:10px; font-weight:700; color:#0a4d2e; }
.card-content p{ font-size:14px; margin-bottom:15px; color:#0a4d2e; }
.card-content .btn{ padding:10px 20px; background:#0a4d2e; color:#fff; border:none; border-radius:8px; cursor:pointer; transition:background .3s; }
.card-content .btn:hover{ background:#7cb342; }

/* Modal */
.modal{ display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,.6); }
.modal-content{ background:#fff; color:#0a4d2e; margin:10% auto; padding:20px; border-radius:15px; max-width:520px; text-align:center; position:relative; }
.modal-content img{ width:100%; height:220px; object-fit:contain; margin-bottom:15px; }
.close{ position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; color:#0a4d2e; }

/* Devis */
#devis form{ max-width:500px; margin:auto; display:flex; flex-direction:column; gap:15px; }
#devis input, #devis textarea, #devis select{ padding:12px; border-radius:8px; border:none; font-size:14px; }
#devis button{ align-self:center; padding:12px 25px; background:#a8e6a1; color:#0a4d2e; border:none; border-radius:8px; font-weight:600; cursor:pointer; }
#devis button:hover{ background:#7cb342; color:#fff; }

/* Footer */
footer{ background:#0a4d2e; text-align:center; padding:20px; font-size:14px; }
footer a{ color:#fff; text-decoration:none; margin:0 10px; }

/* Electric band (yellow orbs) - positioned just under the header (JS will set top) */
.electric-band{
  position:fixed;
  left:0;
  right:0;
  height:14px;
  z-index:2100;
  pointer-events:none;
  overflow:visible;
}
.electric-band .container{ position:absolute; left:0; top:50%; transform:translateY(-50%); width:100vw; padding:0; height:100%; box-sizing:border-box; pointer-events:none; }
.lightning-svg{ width:100vw; height:100%; display:block; pointer-events:none; mix-blend-mode:screen; }
.lightning-svg path.zap{ stroke:var(--electric-yellow); stroke-width:2.0; fill:none; stroke-linecap:round; stroke-linejoin:round; opacity:0.9; }
.lightning-svg path.bright{ stroke:var(--electric-yellow); stroke-width:2.6; fill:none; stroke-linecap:round; stroke-linejoin:round; opacity:1; stroke-dasharray:520; stroke-dashoffset:520; }

.orbs{ position:absolute; left:0; top:0; width:100vw; height:100%; pointer-events:none; overflow:visible; }
.orb{ position:absolute; width:8px; height:8px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff8b0, var(--electric-yellow)); box-shadow:0 0 12px rgba(255,214,0,0.95), 0 0 30px rgba(255,214,0,0.16); transform:translate(-50%,-50%); opacity:0; transition:opacity .18s linear; }
.electric-band.active .orb{ opacity:1; }
@keyframes buzz-slow{ 0%{ transform: translate(-50%,-50%) translateX(-1.5px);} 50%{ transform: translate(-50%,-50%) translateX(1.5px);} 100%{ transform: translate(-50%,-50%) translateX(-1.5px);} }
.orb.buzz{ animation:buzz-slow 1.8s linear infinite; }

.glowline{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); height:3px; width:0; background: linear-gradient(90deg, rgba(255,238,170,0), var(--electric-yellow), rgba(255,238,170,0)); border-radius:8px; box-shadow:0 6px 18px rgba(255,214,0,0.12); opacity:0; transition:opacity .22s ease; }
.electric-band.active .glowline{ width:100vw; opacity:1; animation:pulse 3s ease-in-out infinite; }
@keyframes pulse{ 0%{ transform:translate(-50%,-50%) scaleX(.7); opacity:.6 } 50%{ transform:translate(-50%,-50%) scaleX(1); opacity:1 } 100%{ transform:translate(-50%,-50%) scaleX(.7); opacity:.6 } }

/* Responsive tweaks */
@media (max-width:900px){
  .card{ width:100%; max-width:350px; }
  nav{ display:none; }
  .burger{ display:flex; }
}
</style>
</head>
<body>

<!-- Topbar -->
<div class="topbar" role="banner">
  <a href="#" aria-label="Localisation"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Abidjan, C√¥te d‚ÄôIvoire</a>
  <a href="tel:+22507070707" aria-label="T√©l√©phone"><i class="fas fa-phone" aria-hidden="true"></i> +225 07 07 07 07 07</a>
</div>

<!-- Header -->
<header role="navigation" aria-label="Main">
  <div class="logo-text">
    <img src="green bridge domo.png" alt="Logo GreenBridge">
    <div class="company-name">GREENBRIDGE</div>
  </div>

  <!-- burger for mobile -->
  <button class="burger" id="burgerBtn" aria-label="Ouvrir le menu mobile" aria-expanded="false" aria-controls="mobileNav">
    <span class="icon"><span></span><span></span><span></span></span>
  </button>

  <nav>
    <a href="code1.html">Accueil</a>

    <div class="dropdown" id="dropdownEnergie" aria-haspopup="true" aria-expanded="false">
      <!-- desktop: href navigates to energie.html; desktop badge displays current subpage -->
      <a href="energie.html" class="energie-link" data-current="Onduleurs">
        √ânergie
        <span class="sub-badge" aria-hidden="true">Onduleurs</span>
      </a>
      <ul class="dropdown-content" role="menu" aria-label="Sous-menu √©nergie">
        <li><a href="panneaux.html">‚ö° Panneaux solaires</a></li>
        <li><a href="batteries.html">üîã Batteries & stockage</a></li>
        <li><span class="active-item" role="menuitem">üîå Onduleurs</span></li>
        <li><a href="groupes.html">‚öôÔ∏è Groupes √©lectrog√®nes</a></li>
      </ul>
    </div>

    <a href="domotique.html">Domotique</a>
    <a href="securite.html">S√©curit√©</a>
    <a href="maintenance.html">Maintenance</a>
  </nav>
</header>

<!-- mobile nav -->
<div class="mobile-nav" id="mobileNav" aria-hidden="true">
  <div class="inner">
    <a href="code1.html" class="mobile-link">Accueil</a>

    <div>
      <a href="energie.html" id="mobileEnergieToggle" class="mobile-link active" data-current="Onduleurs" aria-expanded="true">
        √ânergie
        <span class="caret" aria-hidden="true"><i class="fas fa-chevron-down" style="margin-left:6px"></i></span>
      </a>
      <div class="submenu" id="mobileEnergieSub" style="display:flex;flex-direction:column;">
        <a href="panneaux.html">‚ö° Panneaux solaires</a>
        <a href="batteries.html">üîã Batteries & stockage</a>
        <a href="onduleurs.html" class="active-item" aria-current="page">üîå Onduleurs</a>
        <a href="groupes.html">‚öôÔ∏è Groupes √©lectrog√®nes</a>
      </div>
    </div>

    <a href="domotique.html" class="mobile-link">Domotique</a>
    <a href="securite.html" class="mobile-link">S√©curit√©</a>
    <a href="maintenance.html" class="mobile-link">Maintenance</a>

    <div style="margin-top:8px;border-top:1px solid rgba(255,255,255,0.03);padding-top:10px;display:flex;gap:12px;align-items:center;">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a>
      <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
    </div>
  </div>
</div>

<!-- ELECTRIC BAND: will be positioned under header using JS -->
<div class="electric-band" id="electricBand" aria-hidden="true">
  <div class="container" aria-hidden="true">
    <svg class="lightning-svg" viewBox="0 0 2000 40" preserveAspectRatio="none" aria-hidden="true">
      <path class="zap" d="M10,22 C260,6 520,36 840,20 C1120,8 1440,34 1760,18 C1880,6 1960,28 1990,22" stroke-opacity="0.14"/>
      <path class="zap" d="M10,24 C280,36 600,6 860,22 C1140,36 1460,6 1800,22 C1880,36 1960,10 1990,22" stroke-opacity="0.10"/>
      <path class="bright" id="zapBright" d="M20,22 C300,6 600,34 880,16 C1240,0 1520,32 1860,14 C1960,2 1980,30 1990,22" stroke-opacity="1" stroke-dasharray="520" stroke-dashoffset="520"/>
    </svg>

    <div class="orbs" id="energyOrbs">
      <div class="orb" id="eOrbA"></div>
      <div class="orb" id="eOrbB"></div>
      <div class="orb" id="eOrbC"></div>
    </div>

    <div class="glowline" id="eGlowline"></div>
  </div>
</div>

<!-- Hero -->
<section class="hero">
  <div class="hero-content">
    <h1>Onduleurs</h1>
    <p>Convertissez et optimisez votre √©nergie gr√¢ce √† nos onduleurs performants.</p>
    <button class="btn-primary" onclick="document.getElementById('devis').scrollIntoView({behavior:'smooth'});">Demander un devis</button>
  </div>
</section>

<!-- Type 1 : R√©sidentiels -->
<section class="section">
  <h2><i class="fas fa-house type-icon" aria-hidden="true"></i> R√©sidentiels</h2>
  <p class="description">
    Onduleurs compacts et silencieux, sp√©cialement con√ßus pour les habitations : mise en service simple, rendement optimis√© et compatibilit√© avec batteries domestiques.
  </p>

  <div class="cards">
    <div class="card">
      <img src="onduleur_resi_3k.png" alt="Onduleur R√©sidentiel 3kW">
      <div class="card-content">
        <h3>Onduleur R√©sidentiel 3kW</h3>
        <p>Solution compacte pour maisons individuelles (monophas√©).</p>
        <button class="btn" onclick="openModal('onduleur_resi_3k.png','Onduleur R√©sidentiel 3kW','Compact, silencieux, id√©al pour installation r√©sidentielle monophas√©e.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_resi_5k.png" alt="Onduleur R√©sidentiel 5kW">
      <div class="card-content">
        <h3>Onduleur R√©sidentiel 5kW</h3>
        <p>Plus de puissance pour maisons avec besoins √©nerg√©tiques sup√©rieurs.</p>
        <button class="btn" onclick="openModal('onduleur_resi_5k.png','Onduleur R√©sidentiel 5kW','Puissance accrue, compatible stockage batterie et gestion intelligente.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_resi_hybrid.png" alt="Onduleur R√©sidentiel Hybride">
      <div class="card-content">
        <h3>Onduleur Hybride R√©sidentiel</h3>
        <p>Charge/ d√©charge batterie + injection r√©seau selon configuration.</p>
        <button class="btn" onclick="openModal('onduleur_resi_hybrid.png','Onduleur Hybride R√©sidentiel','G√®re solaire + batterie, bascule automatique en cas de coupure.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Type 2 : Hybrides / On-grid & Off-grid -->
<section class="section">
  <h2><i class="fas fa-arrows-rotate type-icon" aria-hidden="true"></i> Hybrides (On-grid / Off-grid)</h2>
  <p class="description">
    Onduleurs hybrides capables d‚Äôop√©rer en mode connect√© au r√©seau (on-grid) ou isol√© (off-grid). Id√©als pour sites avec stockage et besoin de r√©silience.
  </p>

  <div class="cards">
    <div class="card">
      <img src="onduleur_hybrid_5k.png" alt="Onduleur Hybride 5kW">
      <div class="card-content">
        <h3>Hybride 5kW</h3>
        <p>Parfait pour maisons avec batterie et petites structures commerciales.</p>
        <button class="btn" onclick="openModal('onduleur_hybrid_5k.png','Onduleur Hybride 5kW','Mode on-grid/off-grid, gestion batterie intelligente.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_hybrid_10k.png" alt="Onduleur Hybride 10kW">
      <div class="card-content">
        <h3>Hybride 10kW</h3>
        <p>Capacit√© pour PME et installations mixtes.</p>
        <button class="btn" onclick="openModal('onduleur_hybrid_10k.png','Onduleur Hybride 10kW','Scalable, supporte plusieurs strings et batteries modulaires.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_hybrid_15k.png" alt="Onduleur Hybride 15kW">
      <div class="card-content">
        <h3>Hybride 15kW</h3>
        <p>Solution robuste pour sites √† forte variabilit√© de charge.</p>
        <button class="btn" onclick="openModal('onduleur_hybrid_15k.png','Onduleur Hybride 15kW','Haute fiabilit√©, parfait pour micro-grid ou sites critiques.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Type 3 : Industriels -->
<section class="section">
  <h2><i class="fas fa-industry type-icon" aria-hidden="true"></i> Industriels & Grande Puissance</h2>
  <p class="description">
    Onduleurs haute puissance, con√ßus pour centrales, sites industriels et applications commerciales lourdes ‚Äî rendement √©lev√©, redondance et supervision avanc√©e.
  </p>

  <div class="cards">
    <div class="card">
      <img src="onduleur_indus_20k.png" alt="Onduleur Industriel 20kW">
      <div class="card-content">
        <h3>Industriel 20kW</h3>
        <p>Solution modulaire pour petites unit√©s industrielles.</p>
        <button class="btn" onclick="openModal('onduleur_indus_20k.png','Onduleur Industriel 20kW','Architecture redondante, monitoring avanc√©.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_indus_50k.png" alt="Onduleur Industriel 50kW">
      <div class="card-content">
        <h3>Industriel 50kW</h3>
        <p>Convient aux sites industriels moyens et toitures commerciales.</p>
        <button class="btn" onclick="openModal('onduleur_indus_50k.png','Onduleur Industriel 50kW','Haute performance, gestion multi-MPPT et refroidissement optimis√©.')">D√©tails</button>
      </div>
    </div>

    <div class="card">
      <img src="onduleur_indus_100k.png" alt="Onduleur Industriel 100kW">
      <div class="card-content">
        <h3>Industriel 100kW+</h3>
        <p>Plateforme √©volutive pour centrales ou grandes installations.</p>
        <button class="btn" onclick="openModal('onduleur_indus_100k.png','Onduleur Industriel 100kW+','Scalable, supervision SCADA, maintenance ais√©e.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Modal -->
<div id="productModal" class="modal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true">
    <span class="close" onclick="closeModal()" aria-label="Fermer">&times;</span>
    <img id="modalImg" src="" alt="">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
  </div>
</div>

<!-- Devis -->
<section id="devis" class="section">
  <h2>Demandez votre devis personnalis√©</h2>
  <form>
    <input type="text" placeholder="Nom" required>
    <input type="email" placeholder="Email" required>
    <select required>
      <option value="">Type de projet</option>
      <option value="residence">R√©sidentiel</option>
      <option value="hybride">Hybride / Off-grid</option>
      <option value="industriel">Industriel</option>
    </select>
    <textarea placeholder="Message ou d√©tails du projet" required></textarea>
    <button type="submit" class="btn-primary">Envoyer le devis</button>
  </form>
</section>

<!-- Footer -->
<footer>
  <p>&copy; 2025 GreenBridge √ânergie - Tous droits r√©serv√©s</p>
  <p><a href="#">Facebook</a> | <a href="#">LinkedIn</a> | <a href="#">Instagram</a></p>
</footer>

<!-- Scripts -->
<script>
/* Modal logic */
function openModal(img, title, desc){
  const modal = document.getElementById('productModal');
  document.getElementById('modalImg').src = img;
  document.getElementById('modalImg').alt = title;
  document.getElementById('modalTitle').innerText = title;
  document.getElementById('modalDesc').innerText = desc;
  modal.style.display = 'block';
  modal.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
}
function closeModal(){
  const modal = document.getElementById('productModal');
  modal.style.display = 'none';
  modal.setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
}
window.onclick = function(e){
  const modal = document.getElementById('productModal');
  if(e.target === modal) closeModal();
}

/* Dropdown hover for desktop (keeps original behavior) */
document.querySelectorAll('.dropdown').forEach(drop=>{
  let timer;
  const menu = drop.querySelector('.dropdown-content');
  drop.addEventListener('mouseenter', ()=>{ clearTimeout(timer); if(menu) menu.style.display = 'block'; });
  drop.addEventListener('mouseleave', ()=>{ timer = setTimeout(()=>{ if(menu) menu.style.display = 'none'; }, 300); });
});

/* --- New: mobile nav & burger behavior (same logic as batterie.html) --- */
(function(){
  const burger = document.getElementById('burgerBtn');
  const mobileNav = document.getElementById('mobileNav');
  const energieToggle = document.getElementById('mobileEnergieToggle');
  const energieSub = document.getElementById('mobileEnergieSub');
  const dropdown = document.getElementById('dropdownEnergie');
  const energieLink = document.querySelector('.energie-link');

  // Position the electricBand just under the header (no visual gap) using JS so we don't force header fixed
  function positionElectricBand(){
    const band = document.getElementById('electricBand');
    const header = document.querySelector('header');
    if(!band || !header) return;
    const rect = header.getBoundingClientRect();
    // compute absolute y relative to viewport + page scroll
    const topY = rect.bottom + window.scrollY - 6; // -6px to overlap like in batterie.html
    band.style.top = topY + 'px';
  }
  window.addEventListener('resize', positionElectricBand);
  window.addEventListener('load', positionElectricBand);
  setTimeout(positionElectricBand, 80);

  // burger opens/closes mobile nav
  if(burger && mobileNav){
    burger.addEventListener('click', ()=> {
      const opened = mobileNav.classList.toggle('open');
      burger.classList.toggle('open', opened);
      burger.setAttribute('aria-expanded', String(opened));
      mobileNav.setAttribute('aria-hidden', String(!opened));
      document.body.style.overflow = opened ? 'hidden' : '';
      // show Energie submenu if active
      if(opened && energieToggle && energieToggle.classList.contains('active')){
        energieSub.style.display = 'flex';
        energieToggle.setAttribute('aria-expanded','true');
      }
    });

    // close mobile nav when clicking a normal link (not the Energie toggle)
    mobileNav.addEventListener('click', function(e){
      const a = e.target.closest('a');
      if(!a) return;
      if(a.id === 'mobileEnergieToggle') return; // toggle handled separately
      // close mobile nav
      mobileNav.classList.remove('open');
      burger.classList.remove('open');
      mobileNav.setAttribute('aria-hidden','true');
      burger.setAttribute('aria-expanded','false');
      document.body.style.overflow = '';
    });
  }

  // mobile Energie toggle behavior
  if(energieToggle && energieSub){
    energieToggle.addEventListener('click', function(e){
      e.preventDefault(); e.stopPropagation();
      const opening = energieSub.style.display !== 'flex';
      document.querySelectorAll('.mobile-nav .submenu').forEach(s=>{ if(s!==energieSub) s.style.display='none'; });
      energieSub.style.display = opening ? 'flex' : 'none';
      energieToggle.setAttribute('aria-expanded', String(opening));
      energieToggle.classList.toggle('active', opening);
      mobileNav.classList.add('open');
      burger.classList.add('open');
      mobileNav.setAttribute('aria-hidden','false');
      burger.setAttribute('aria-expanded','true');
    });
  }

  // Desktop: clicking the "√ânergie" link should navigate to energie.html (we keep href).
  // Mobile: when viewport <= 900px, prevent navigation and open dropdown instead.
  if(energieLink && dropdown){
    energieLink.addEventListener('click', function(e){
      if(window.innerWidth <= 900){
        e.preventDefault();
        // toggle the desktop dropdown content (mirror mobile)
        dropdown.classList.toggle('show');
        dropdown.setAttribute('aria-expanded', String(dropdown.classList.contains('show')));
      } else {
        // desktop: allow navigation to energie.html (do nothing)
      }
    });
    // ensure dropdown closes on resize to desktop
    window.addEventListener('resize', function(){
      if(window.innerWidth > 900){
        dropdown.classList.remove('show');
        dropdown.setAttribute('aria-expanded','false');
      }
    });
  }

  // Accessibility: close mobile nav on ESC
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape'){
      if(mobileNav && mobileNav.classList.contains('open')){
        mobileNav.classList.remove('open');
        burger.classList.remove('open');
        mobileNav.setAttribute('aria-hidden','true');
        burger.setAttribute('aria-expanded','false');
        document.body.style.overflow = '';
      }
      // close dropdown if open
      if(dropdown && dropdown.classList.contains('show')){ dropdown.classList.remove('show'); dropdown.setAttribute('aria-expanded','false'); }
    }
  });

  // ensure the active submenu is open initially on small screens
  function openActiveSubmenuOnSmall(){
    if(window.innerWidth <= 900){
      if(energieToggle && energieSub){
        energieSub.style.display = 'flex';
        energieToggle.setAttribute('aria-expanded','true');
        energieToggle.classList.add('active');
      }
    } else {
      if(energieSub) energieSub.style.display = 'none';
    }
  }
  window.addEventListener('resize', openActiveSubmenuOnSmall);
  openActiveSubmenuOnSmall();

})();

/* Simple dropdown hover already in CSS/JS above (keeps desktop hover) */

/* Electric band visuals & orb movement (same parameters as batterie.html) */
(function(){
  const band = document.getElementById('electricBand');
  if(!band) return;

  const orbA = document.getElementById('eOrbA');
  const orbB = document.getElementById('eOrbB');
  const orbC = document.getElementById('eOrbC');
  const orbs = [orbA, orbB, orbC];
  const bright = document.getElementById('zapBright');

  const params = [
    {rxRatio:0.50, ry:8, speed:0.06, phase:0},
    {rxRatio:0.33, ry:6, speed:0.08, phase:Math.PI/2},
    {rxRatio:0.42, ry:10, speed:0.05, phase:Math.PI}
  ];

  orbs.forEach((o,i)=>{ if(o){ o.classList.add('buzz'); o.style.animationDelay = (i*140)+'ms'; o.style.opacity='1'; } });

  let t0 = performance.now();
  function tick(now){
    const time = (now - t0)/1000;
    const cont = band.querySelector('.container');
    if(!cont){ requestAnimationFrame(tick); return; }
    const rect = cont.getBoundingClientRect();
    const cx = rect.width/2;
    const cy = rect.height/2;
    for(let i=0;i<orbs.length;i++){
      const o = orbs[i]; if(!o) continue;
      const p = params[i];
      const rx = Math.max(Math.min(rect.width * p.rxRatio, 4000), 120);
      const ry = p.ry;
      const angle = (time * p.speed * Math.PI * 2) + p.phase;
      const x = cx + Math.cos(angle) * rx;
      const y = cy + Math.sin(angle) * ry;
      o.style.left = x + 'px';
      o.style.top = y + 'px';
      o.style.transform = 'translate(-50%,-50%)';
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  function sparkBright(){
    if(!bright) return;
    bright.style.transition = 'none';
    try{
      const len = bright.getTotalLength ? bright.getTotalLength() : 520;
      bright.setAttribute('stroke-dasharray', String(len));
      bright.setAttribute('stroke-dashoffset', String(len));
      setTimeout(()=> {
        bright.style.transition = 'stroke-dashoffset 420ms ease-out, opacity 160ms';
        bright.setAttribute('stroke-dashoffset','0');
        setTimeout(()=> { bright.setAttribute('stroke-dashoffset', String(len)); }, 420);
      }, 80);
    }catch(e){
      bright.setAttribute('stroke-dasharray','520');
      bright.setAttribute('stroke-dashoffset','520');
      setTimeout(()=> { bright.style.transition = 'stroke-dashoffset 420ms ease-out'; bright.setAttribute('stroke-dashoffset','0'); }, 80);
    }
  }

  function spawnSparks(){
    const cont = band.querySelector('.container');
    if(!cont) return;
    for(let i=0;i<8;i++){
      const s = document.createElement('div');
      s.style.position='absolute';
      s.style.left = (3 + Math.random()*94) + '%';
      s.style.top = (20 + Math.random()*50) + '%';
      s.style.width = '2px';
      s.style.height = (8 + Math.random()*18) + 'px';
      s.style.borderRadius = '2px';
      s.style.background = 'linear-gradient(180deg, rgba(255,246,180,1), rgba(255,214,0,0.95))';
      s.style.filter = 'blur(6px)';
      s.style.opacity = '0';
      s.style.transform = 'translateY(6px)';
      s.style.pointerEvents = 'none';
      cont.appendChild(s);
      setTimeout(()=> { s.style.transition = 'all 260ms ease-out'; s.style.opacity='1'; s.style.transform='translateY(-6px)'; }, 20 + i*30);
      setTimeout(()=> { s.style.transition = 'all 520ms ease-in'; s.style.opacity='0'; s.style.transform='translateY(-20px)'; }, 300 + i*40);
      setTimeout(()=> { if(s.parentNode) s.parentNode.removeChild(s); }, 820 + i*40);
    }
  }

  function activate(){
    band.classList.add('active');
    spawnSparks(); sparkBright();
    setInterval(()=> {
      spawnSparks();
      if(Math.random() > 0.45) sparkBright();
    }, 1200 + Math.random()*1200);
  }

  const title = document.querySelector('.company-name');
  if(title){ title.addEventListener('click', ()=> { const on = band.classList.toggle('active'); if(on){ spawnSparks(); sparkBright(); } }); }

  activate();
  window.addEventListener('resize', ()=>{ t0 = performance.now(); });

})();
</script>
</body>
</html>

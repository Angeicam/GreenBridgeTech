<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GreenBridge Domotique - Particuliers</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --topbar-h:48px;
  --header-h:72px;
  --green-dark:#061f14;
  --green-mid:#073217;
  --green-mid-2:#0b4d26;
  --accent:#7cb342;
  --accent-2:#a8e6a1; /* couleur des √©l√©ments actifs (comme sur les autres pages) */
  --bg:#0a4d2e;
  --electric-yellow:#ffd600;
  --card-radius:14px;
  --card-gap:20px;
  --gold:#d4af37;
  --purple-accent:#8e6cff; /* <-- COULEUR VIOLETTE POUR LES ORBS */
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:'Poppins',Arial,sans-serif;background:var(--bg);color:#fff;scroll-behavior:smooth;overflow-x:hidden}
a{color:inherit;text-decoration:none}

/* Topbar (fixed) */
.topbar{
  position:fixed;top:0;left:0;right:0;height:var(--topbar-h);
  background:var(--green-dark);
  display:flex;align-items:center;justify-content:space-between;
  gap:12px;padding:0 5vw;z-index:1800;font-size:14px;
}
.topbar .left, .topbar .right{display:flex;align-items:center;gap:12px}
.topbar a{color:#fff;transition:color .18s}
.topbar a:hover{color:var(--accent-2)}

/* Header (fixed) */
header{
  position:fixed;top:var(--topbar-h);left:0;right:0;height:var(--header-h);
  background:linear-gradient(90deg,var(--green-mid),var(--green-mid-2));
  display:flex;align-items:center;justify-content:space-between;padding:0 5vw;
  z-index:1750;box-shadow:0 4px 12px rgba(0,0,0,.25)
}
.logo-text{display:flex;align-items:center;gap:12px}
.logo-text img{height:56px;display:block}
.company-name{
  font-size:28px;font-weight:800;letter-spacing:1px;padding:6px 10px;border-radius:8px;
  color:#04462e;-webkit-text-stroke:0.95px var(--gold);text-shadow:0 3px 6px rgba(0,0,0,0.6);
  position:relative;
}

/* Nav desktop */
nav{display:flex;gap:18px;align-items:center}
nav a{color:#fff;font-size:15px;font-weight:600;padding:8px 10px;border-radius:8px;transition:all .18s;display:flex;gap:8px;align-items:center}
nav a:hover{color:var(--accent-2)}
nav a.active{
  color:var(--accent-2);
  background: linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));
  border:1px solid rgba(212,175,55,0.22);
  padding:10px 14px;
  font-weight:800;
  border-radius:10px;
}

/* Dropdown desktop */
.dropdown{position:relative}
.dropdown > a{display:flex;gap:8px;align-items:center;cursor:pointer;font-weight:700}
.dropdown > a .sub-badge{
  margin-left:8px;padding:6px 10px;border-radius:10px;background: rgba(255,214,0,0.08);color: var(--electric-yellow);font-weight:800;font-size:13px;white-space:nowrap;display:inline-flex;align-items:center;box-shadow: 0 6px 18px rgba(0,0,0,0.32);
}
@media (max-width:1100px){ .dropdown > a .sub-badge{ display:none } }
.dropdown > a::after{ content:"\25BC"; font-size:12px; margin-left:6px; transition:transform .2s; color: var(--accent-2); opacity:0.95; }
.dropdown[aria-expanded="true"] > a::after{ transform:rotate(180deg); }

/* Dropdown menu */
.dropdown-content{
  display:none;position:absolute;top:calc(100% + 8px);left:0;background:rgba(0,0,0,0.85);
  padding:8px 0;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.5);min-width:280px;z-index:2000;
}
.dropdown-content li{list-style:none}
.dropdown-content a{display:block;padding:10px 16px;color:#fff;font-weight:600;border-radius:8px}
.dropdown-content a:hover{background:rgba(168,230,161,0.12);color:var(--accent-2);padding-left:24px}

/* ACTIVE child in dropdown: match the same style as on other pages (accent-2) */
.dropdown-content .active-item{
  color: var(--accent-2);              /* <-- m√™me couleur que les autres pages */
  background: linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));
  border:1px solid rgba(212,175,55,0.12);
  padding:10px 16px;
  font-weight:800;
  border-radius:8px;
  margin:4px 8px;
}

/* Ensure sub-item when active shows accent-2 color */
.dropdown-content a.sub-item.active-item,
.dropdown-content a.active-item.sub-item {
  color: var(--accent-2) !important;
}

/* REMOVE ANY VIOLET: sub-items look like normal dropdown entries (no violet bg/border/shadow) */
.dropdown-content a.sub-item{
  background: transparent;
  border: none;
  color: #fff;
  font-weight:600;
  padding:10px 16px;
  margin:4px 8px;
  border-radius:8px;
  box-shadow: none;
  transition: none;
}

/* Burger mobile */
.burger{display:none;width:44px;height:44px;border-radius:8px;border:none;background:transparent;align-items:center;justify-content:center;cursor:pointer}
.burger .icon{display:block;position:relative;width:26px;height:18px}
.burger .icon span{position:absolute;left:0;right:0;height:3px;background:#fff;border-radius:2px;transition:all .25s}
.burger .icon span:nth-child(1){top:0}
.burger .icon span:nth-child(2){top:7.5px}
.burger .icon span:nth-child(3){top:15px}
.burger.open .icon span:nth-child(1){transform: translateY(7.5px) rotate(45deg)}
.burger.open .icon span:nth-child(2){opacity:0}
.burger.open .icon span:nth-child(3){transform: translateY(-7.5px) rotate(-45deg)}

/* Mobile nav */
.mobile-nav{
  display:none;
  position:fixed;
  top:calc(var(--topbar-h) + var(--header-h));
  left:0;
  right:0;
  background:var(--bg);
  z-index:1790;
  box-shadow:0 12px 40px rgba(0,0,0,.45);
  overflow:auto;
  max-height:0;
  transition:max-height .28s ease;
}
.mobile-nav.open{ display:block; max-height:85vh; }
.mobile-nav .inner{ padding:12px 5vw; display:flex; flex-direction:column; gap:8px; align-items:stretch; }
.mobile-nav a{ padding:12px; color:#fff; width:100%; text-align:left; border-radius:8px; font-weight:700; display:flex; justify-content:space-between; align-items:center }
.mobile-nav a:hover{ background:rgba(124,179,66,0.06); color:var(--accent-2) }
.mobile-nav a.active{ background: linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03)); color:var(--accent-2) }
.mobile-nav .submenu{ display:none; flex-direction:column; padding-left:12px; margin-top:6px; margin-bottom:6px; gap:6px }
.mobile-nav .submenu a{ font-weight:600; padding:8px 12px; border-radius:6px; text-align:left }
.mobile-nav a.mobile-disabled { pointer-events: none; cursor: default; opacity: 0.95; color: rgba(255,255,255,0.65) !important; }

/* Mobile: active current page uses the same accent-2 as desktop for consistency */
.mobile-nav a[aria-current="page"]{
  color: var(--accent-2);
  font-weight:800;
}

/* Mobile sub-item: no violet, same as other mobile items */
.mobile-nav .submenu a.sub-item{
  background: transparent;
  color: #fff;
  border-left: none;
  padding:8px 12px;
  margin:6px 0;
  font-weight:600;
  box-shadow:none;
}

/* show current subpage on the mobile toggle via data-current */
.mobile-nav .mobile-link.active[data-current]::after {
  content: attr(data-current);
  margin-left:8px;
  padding:6px 10px;
  border-radius:8px;
  background: rgba(255,214,0,0.06);
  color: var(--electric-yellow);
  font-weight:800;
  font-size:13px;
  white-space:nowrap;
}

/* Hero */
.hero{
  margin-top:calc(var(--topbar-h) + var(--header-h));
  height:35vh;
  min-height:240px;
  background:url("DOMO_PARTIculier.png") center/cover no-repeat;
  display:flex;align-items:center;justify-content:center;position:relative;text-align:center;
}
.hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.45)}
.hero-content{position:relative;z-index:1;max-width:900px;padding:0 20px;display:flex;flex-direction:column;align-items:center;gap:12px}
.hero-content h1{font-size:36px;margin:0;color:#fff}
.hero-content p{font-size:18px;margin:0;color:#fff}
.btn-primary{padding:12px 28px;border-radius:8px;border:0;background:var(--accent);color:#072012;font-weight:700;cursor:pointer}
.btn-primary:hover{background:var(--accent-2)}

/* Sections & cards */
.section{padding:40px 5vw;text-align:center}
.section h2{font-size:28px;margin-bottom:16px;color:var(--accent-2);display:flex;gap:10px;align-items:center;justify-content:center}
.section p.description{max-width:900px;margin:0 auto 20px;color:#e6f7ea;line-height:1.6}
.cards{display:flex;gap:var(--card-gap);flex-wrap:wrap;justify-content:center;align-items:stretch}
.card{background:#fff;color:#0a4d2e;border-radius:14px;overflow:hidden;width:280px;box-shadow:0 10px 22px rgba(0,0,0,0.35);transition:transform .28s;position:relative}
/* images : s'affichent comme sur l'autre page (contain) */
.card img{
  width:100%;
  height:180px;
  object-fit:contain;
  background:#f8f8f8;
  display:block;
}
.card-content{padding:18px 20px;text-align:center;display:flex;flex-direction:column;gap:10px}
.card-content h3{font-size:18px;margin:6px 0;font-weight:700}
.card-content p{font-size:14px;color:#0a4d2e;margin:8px 0}
.btn{padding:10px 18px;border-radius:8px;border:0;background:#0a4d2e;color:#fff;cursor:pointer}
.btn:hover{background:#7cb342}
.ribbon{ width:70px;height:22px;background:#FFD700;color:#0a4d2e;text-align:center;line-height:22px;font-weight:800; position:absolute;top:10px;left:-15px;transform:rotate(-45deg);box-shadow:0 2px 5px rgba(0,0,0,0.3);z-index:10}
.price{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:8px}
.old-price{text-decoration:line-through;color:#9aa69a}
.new-price{font-weight:800;color:#0a4d2e;background:var(--accent-2);padding:6px 8px;border-radius:6px}

/* Modal */
.modal{ display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,.6); }
.modal-content{ background:#fff; color:#072012; margin:6% auto; padding:18px; border-radius:12px; max-width:720px; position:relative; text-align:center; }
.close{ position:absolute; right:12px; top:8px; background:transparent; border:0; font-size:22px; cursor:pointer; color:#072012 }

/* Devis */
#devis { padding-bottom:60px }
#devis form { max-width:520px;margin:18px auto 0;display:flex;flex-direction:column;gap:12px;background:rgba(0,0,0,0.55);padding:20px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.4) }
#devis input,#devis textarea,#devis select{width:100%;padding:12px;border-radius:8px;border:1px solid rgba(124,179,66,0.18);background:transparent;color:#fff;font-size:14px}
#devis button{align-self:center;padding:12px 26px;border-radius:10px;border:0;background:var(--accent);color:#072012;font-weight:700;cursor:pointer}
#devis button:hover{background:var(--accent-2)}

/* Footer */
footer{background:var(--green-dark);color:#fff;padding:28px 5vw 36px;position:relative;margin-top:40px;text-align:center}
.footer-company{display:block;margin:0 auto 8px;font-size:18px;font-weight:800;color:#04462e;-webkit-text-stroke:0.7px var(--gold);text-shadow:0 3px 6px rgba(0,0,0,0.6);padding:4px 8px;border-radius:6px;width:max-content;background: linear-gradient(90deg, rgba(212,175,55,0.02), rgba(255,255,255,0) 40%)}
.footer-contact{margin-top:6px;color:#e6f7ea;line-height:1.6}

/* Purple band (orbs) - CHANGEMENT: violet */
.purple-band { position: fixed; top: calc(var(--topbar-h) + var(--header-h) - 6px); left: 0; right: 0; height: 14px; z-index: 1900; pointer-events: none; overflow: visible; transform: translateZ(0); }
.purple-band .container { position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 100vw; padding: 0; height: 100%; pointer-events: none; box-sizing: border-box; }
.line-svg{ width:100vw; height:100%; display:block; pointer-events:none; mix-blend-mode:screen; opacity:0.98 }
/* purple strokes */
.line-svg path.zap{ stroke: var(--purple-accent); stroke-width: 2.0; fill:none; stroke-linecap:round; stroke-linejoin:round; opacity:0.9; }
.line-svg path.bright{ stroke: var(--purple-accent); stroke-width: 2.8; fill:none; stroke-linecap:round; stroke-linejoin:round; opacity:1; stroke-dasharray:520; stroke-dashoffset:520; }

.orbs{ position:absolute; left:0; top:0; width:100vw; height:100%; pointer-events:none; overflow:visible; }
.orb{ position:absolute; width:8px; height:8px; border-radius:50%; background: radial-gradient(circle at 30% 30%, #fff8ff, var(--purple-accent)); box-shadow:0 0 12px rgba(142,108,255,0.95),0 0 30px rgba(142,108,255,0.20); transform: translate(-50%,-50%); opacity:0; transition:opacity .18s linear; will-change:left,top,transform; }
.purple-band.active .orb{ opacity:1; }
@keyframes buzz-h{ 0%{ transform: translate(-50%,-50%) translateX(-1.2px);} 50%{ transform: translate(-50%,-50%) translateX(1.2px);} 100%{ transform: translate(-50%,-50%) translateX(-1.2px);} }
.orb.buzz{ animation:buzz-h 1.6s linear infinite; }

.glowline{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); height:3px; width:0; background: linear-gradient(90deg, rgba(142,108,255,0), var(--purple-accent), rgba(142,108,255,0)); border-radius:8px; box-shadow:0 6px 18px rgba(142,108,255,0.12); opacity:0; transition:opacity .22s ease; }
.purple-band.active .glowline{ width:100vw; opacity:1; animation:pulse 2.6s ease-in-out infinite; }
@keyframes pulse{ 0%{ transform: translate(-50%,-50%) scaleX(.6); opacity:.6 } 50%{ transform: translate(-50%,-50%) scaleX(1); opacity:1 } 100%{ transform: translate(-50%,-50%) scaleX(.6); opacity:.6 } }

/* Responsive tweaks */
@media (max-width:1100px){ .cards{flex-direction:row;flex-wrap:wrap;justify-content:center} nav{display:none} .burger{display:flex} }
@media (max-width:820px){
  .card{width:100%;max-width:640px}
  .hero{height:40vh}
  .company-name{font-size:24px}
  .cards{flex-direction:column;align-items:center}
}

/* 5-across for .row-five on large screens */
@media (min-width:1101px){
  .row-five{
    flex-wrap:nowrap;
    justify-content:flex-start;
    align-items:stretch;
  }
  .row-five > .card{
    flex:0 0 calc((100% - (4 * var(--card-gap))) / 5);
    max-width:none;
    width:auto;
  }
}
</style>
</head>
<body data-page="particuliers">

<!-- Topbar -->
<div class="topbar" role="banner">
  <div class="left">
    <a href="#" aria-label="Localisation"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Abidjan, C√¥te d‚ÄôIvoire</a>
  </div>
  <div class="right"><a href="tel:+22507070707"><i class="fas fa-phone" aria-hidden="true"></i> +225 07 07 07 07 07</a></div>
</div>

<!-- Header -->
<header role="navigation" aria-label="Main">
  <div class="logo-text">
    <a href="Code1.html"><img src="green bridge domo.png" alt="Logo GreenBridge"></a>
    <div class="company-name">GREENBRIDGE</div>
  </div>

  <!-- hamburger (mobile) -->
  <button class="burger" id="burgerBtn" aria-label="Ouvrir le menu mobile" aria-expanded="false" aria-controls="mobileNav">
    <span class="icon"><span></span><span></span><span></span></span>
  </button>

  <nav aria-label="Menu principal">
    <a href="Code1.html">Accueil</a>
    <a href="energie.html">√ânergie</a>

    <!-- Dropdown : Domotique - sub-badge will reflect the active child -->
    <div class="dropdown" id="dropdownDomotique" aria-haspopup="true" aria-expanded="false">
      <a href="domotique.html" class="domotique-link" data-current="Particuliers">
        Domotique
        <span class="sub-badge">Particuliers</span>
      </a>

      <!-- ORDER: Particuliers, Professionnels, then the rest -->
      <ul class="dropdown-content" role="menu" aria-label="Sous-menu domotique">
        <li><a href="particuliers.html" class="sub-item" aria-current="page">üë• Particuliers</a></li>
        <li><a href="professionnels.html" class="sub-item">üè¢ Professionnels</a></li>
        <li><a href="maison.html">üè† Maison connect√©e</a></li>
        <li><a href="eclairage.html">üí° √âclairage intelligent</a></li>
        <li><a href="gestion.html">üå°Ô∏è Gestion du climat</a></li>
        <li><a href="multimedia.html">üé∂ Multim√©dia int√©gr√©</a></li>
      </ul>
    </div>

    <a href="securite.html">S√©curit√©</a>
    <a href="maintenance.html">Maintenance</a>
  </nav>
</header>

<!-- mobile nav -->
<div class="mobile-nav" id="mobileNav" aria-hidden="true" style="display:none;">
  <div class="inner">
    <a href="Code1.html" class="mobile-link">Accueil</a>
    <a href="energie.html" class="mobile-link">√ânergie</a>

    <div>
      <!-- mobileDomotiqueToggle explicitly shows Particuliers as current via data-current -->
      <a href="domotique.html" id="mobileDomotiqueToggle" class="mobile-link" data-current="Particuliers" aria-expanded="false">
        Domotique
        <span class="caret" aria-hidden="true"><i class="fas fa-chevron-down" style="margin-left:6px"></i></span>
      </a>
      <!-- SUBMENU ORDER: Particuliers, Professionnels, then others -->
      <div class="submenu" id="mobileDomotiqueSub" style="display:flex;flex-direction:column;">
        <a href="particuliers.html" class="sub-item">üë• Particuliers</a>
        <a href="professionnels.html" class="sub-item">üè¢ Professionnels</a>
        <a href="maison.html">üè† Maison connect√©e</a>
        <a href="eclairage.html">üí° √âclairage intelligent</a>
        <a href="gestion.html">üå°Ô∏è Gestion du climat</a>
        <a href="multimedia.html">üé∂ Multim√©dia int√©gr√©</a>
      </div>
    </div>

    <a href="securite.html" class="mobile-link">S√©curit√©</a>
    <a href="maintenance.html" class="mobile-link">Maintenance</a>

    <div style="margin-top:8px;border-top:1px solid rgba(255,255,255,0.03);padding-top:10px;display:flex;gap:12px;align-items:center;">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a>
      <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
    </div>
  </div>
</div>

<!-- Purple band -->
<div class="purple-band" id="purpleBand" aria-hidden="true">
  <div class="container" aria-hidden="true">
    <svg class="line-svg" viewBox="0 0 2000 40" preserveAspectRatio="none" aria-hidden="true">
      <path class="zap" d="M10,22 C260,6 520,36 840,20 C1120,8 1440,34 1760,18 C1880,6 1960,28 1990,22" stroke-opacity="0.16"/>
      <path class="zap" d="M10,24 C280,36 600,6 860,22 C1140,36 1460,6 1800,22 C1880,36 1960,10 1990,22" stroke-opacity="0.10"/>
      <path class="bright" id="purpleBright" d="M20,22 C300,6 600,34 880,16 C1240,0 1520,32 1860,14 C1960,2 1980,30 1990,22" stroke-opacity="1" stroke-dasharray="520" stroke-dashoffset="520"/>
    </svg>

    <div class="orbs" id="purpleOrbs">
      <div class="orb" id="pOrbA" aria-hidden="true"></div>
      <div class="orb" id="pOrbB" aria-hidden="true"></div>
      <div class="orb" id="pOrbC" aria-hidden="true"></div>
    </div>

    <div class="glowline" id="pGlowline"></div>
  </div>
</div>

<!-- Hero -->
<section class="hero" id="top" aria-label="Hero">
  <div class="hero-content">
    <h1>Particuliers ‚Äî Solutions Domotique</h1>
    <p>Confort, s√©curit√© et √©conomies chez vous ‚Äî packs pr√™ts √† poser, installation pro et support local.</p>
    <button class="btn-primary" onclick="document.getElementById('devis').scrollIntoView({behavior:'smooth'});">Demander un devis</button>
  </div>
</section>

<!-- CONTENT -->
<section class="section" id="offres">
  <h2><i class="fas fa-box-open"></i> Offres pour Particuliers</h2>
  <p class="description">Packs cl√©s en main, con√ßus pour les besoins r√©els des foyers ‚Äî installation, configuration et garantie incluses.</p>

  <div class="cards row-five" role="list" aria-label="Packs particuliers">
    <div class="card" role="listitem">
      <div class="ribbon">Best-seller</div>
      <img src="prise_connect√©e.png" alt="Pack Confort Starter">
      <div class="card-content">
        <h3>AUVON</h3>
        <p>Lot de 2 veilleuses avec d√©tecteur de mouvement et capteur cr√©pusculaire</p>
        <div class="price"><span class="old-price">30 000 FCFA</span> <span class="new-price">25 000 FCFA</span></div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
          <button class="btn" onclick="openModal('veilleuse_detecteur-de-mvt.png','Pack Confort Starter','2 prises Tapo, 1 d√©tecteur ‚Äî Installation 1h, garantie 12 mois')">D√©tails</button>
          <button class="btn" onclick="bookCall('Pack Confort Starter')" style="background:var(--accent);color:#072012">Prendre RDV</button>
        </div>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="Sonette_sans_fils.png" alt="Pack S√©curit√© Essentiel">
      <div class="card-content">
        <h3>Sonnette sans fil</h3>
        <p> 4 r√©cepteurs et 2 √©metteurs</p>
        <div class="price"><span class="old-price">70 000 FCFA</span> <span class="new-price">45 000 FCFA</span></div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
          <button class="btn" onclick="openModal('SONETTE_22.png','Pack S√©curit√© Essentiel','Portier + 2 cam√©ras ‚Äî Installation professionnelle incluse')">D√©tails</button>
          <button class="btn" onclick="bookCall('Pack S√©curit√© Essentiel')" style="background:var(--accent);color:#072012">Prendre RDV</button>
        </div>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="sensibo_air_pro.png" alt="Pack Maison Connect√©e">
      <div class="card-content">
        <h3>Sensibo Air PRO</h3>
        <p>Contr√¥leur intelligent pour climatiseur et capteur de qualit√© de l'air.</p>
        <div class="price"><span class="old-price">150 000 FCFA</span> <span class="new-price">120 000 FCFA</span></div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
          <button class="btn" onclick="openModal('systeme_domo.png','Pack Maison Connect√©e','Solution compl√®te ‚Äî Sc√©narios, int√©gration Alexa/Google')">D√©tails</button>
          <button class="btn" onclick="bookCall('Pack Maison Connect√©e')" style="background:var(--accent);color:#072012">Prendre RDV</button>
        </div>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="lot_jbl_flip_6.png" alt="Pack Confort Clim">
      <div class="card-content">
        <h3>Lot 2 JBL Flip 6</h3>
        <p>Enceintes puissantes pour ambiances festives.</p>
        <div class="price"><span class="old-price">240 000 FCFA</span> <span class="new-price">180 000 FCFA</span></div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
          <button class="btn" onclick="openModal('JBL_filp_6_lot.png','Pack Confort Clim','Pilotage connect√© de la climatisation ‚Äî Sc√©narios horaires')">D√©tails</button>
          <button class="btn" onclick="bookCall('Pack Confort Clim')" style="background:var(--accent);color:#072012">Prendre RDV</button>
        </div>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="lot_projecteur_10.png" alt="Pack Multim√©dia">
      <div class="card-content">
        <h3>Pack Multim√©dia</h3>
        <p>Enceintes connect√©es, multiroom et int√©gration musique/TV.</p>
        <div class="price"><span class="old-price">380 000 FCFA</span> <span class="new-price">300 000 FCFA</span></div>
        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px">
          <button class="btn" onclick="openModal('retroprojecteur_2.png','Pack Multim√©dia','Multiroom, AirPlay, Bluetooth ‚Äî Installation incluse')">D√©tails</button>
          <button class="btn" onclick="bookCall('Pack Multim√©dia')" style="background:var(--accent);color:#072012">Prendre RDV</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- NOTE: Section "Pourquoi GreenBridge ?" supprim√©e comme demand√© -->

<!-- NOTE: Section "T√©moignages" SUPPRIM√âE (demand√©) -->

<section class="section" id="faq">
  <h2><i class="fas fa-question-circle"></i> FAQ</h2>
  <p class="description">Les r√©ponses aux questions les plus fr√©quentes.</p>

  <div style="max-width:900px;margin:0 auto;text-align:left;">
    <details style="background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;margin-bottom:8px;">
      <summary style="font-weight:700;cursor:pointer">Combien de temps prend une installation ?</summary>
      <div style="margin-top:8px;color:#e6f7ea">De 1 heure pour un petit pack √† une journ√©e pour une maison compl√®te multi-zones.</div>
    </details>

    <details style="background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;margin-bottom:8px;">
      <summary style="font-weight:700;cursor:pointer">Proposez-vous une garantie ?</summary>
      <div style="margin-top:8px;color:#e6f7ea">Oui : 12 mois pi√®ces et main d‚Äô≈ìuvre sur nos installations.</div>
    </details>

    <details style="background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;margin-bottom:8px;">
      <summary style="font-weight:700;cursor:pointer">Le syst√®me fonctionne sans Internet ?</summary>
      <div style="margin-top:8px;color:#e6f7ea">De nombreuses fonctions locales continuent de fonctionner ; le pilotage distant n√©cessite Internet.</div>
    </details>
  </div>
</section>

<section id="devis" class="section">
  <h2><i class="fas fa-file-invoice-dollar"></i> Demandez votre devis</h2>
  <p class="description">Remplissez le formulaire, on vous recontacte rapidement.</p>

  <form id="devisForm" novalidate>
    <input type="text" id="nom" name="nom" placeholder="Nom complet" required aria-required="true" />
    <input type="tel" id="tel" name="tel" placeholder="T√©l√©phone" required aria-required="true" />
    <input type="email" id="email" name="email" placeholder="Email" required aria-required="true" />
    <select id="projet" name="projet" required aria-required="true">
      <option value="">Type de projet</option>
      <option value="confort">Confort (prises, √©clairage)</option>
      <option value="securite">S√©curit√©</option>
      <option value="complet">Maison compl√®te</option>
    </select>
    <textarea id="message" name="message" rows="4" placeholder="D√©tails du projet (optionnel)"></textarea>
    <div style="display:flex;gap:12px;justify-content:center;margin-top:6px">
      <button type="submit" class="btn-primary">Envoyer le devis</button>
      <button type="button" class="btn" onclick="bookCall()">Demander un rappel</button>
    </div>
    <div id="formStatus" aria-live="polite" style="text-align:center;margin-top:10px;color:#e6f7ea"></div>
  </form>
</section>

<!-- Modal product -->
<div id="productModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-label="D√©tails produit">
  <div class="modal-content" role="document" tabindex="-1">
    <button class="close" onclick="closeModal()" aria-label="Fermer">&times;</button>
    <img id="modalImg" src="" alt="" style="max-width:100%;height:auto;margin-bottom:12px">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
    <div style="display:flex;gap:8px;justify-content:center;margin-top:12px">
      <button class="btn" onclick="closeModal()">Fermer</button>
      <button class="btn" onclick="bookCall()">Prendre RDV</button>
    </div>
  </div>
</div>

<footer>
  <div class="footer-company">GREENBRIDGE</div>
  <div class="footer-contact">
    <div>¬© 2025 GreenBridge Domotique. Tous droits r√©serv√©s.</div>
    <div>Abidjan, C√¥te d'Ivoire</div>
    <div>Tel: +225 07 07 07 07 07</div>
  </div>
</footer>

<script>
/* Modal helpers with accessibility */
let _lastFocus = null;
function openModal(img, title, desc){
  const modal = document.getElementById('productModal');
  const content = modal.querySelector('.modal-content');
  _lastFocus = document.activeElement;
  document.getElementById("modalImg").src = img || '';
  document.getElementById("modalImg").alt = title || '';
  document.getElementById("modalTitle").innerText = title || '';
  document.getElementById("modalDesc").innerText = desc || '';
  if(modal){
    modal.style.display = 'block';
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
    setTimeout(()=> { try{ content.focus(); }catch(e){} }, 40);
  }
}
function closeModal(){
  const modal = document.getElementById('productModal');
  if(modal){
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
    try{ if(_lastFocus) _lastFocus.focus(); }catch(e){}
  }
}
window.addEventListener('keydown', function(e){
  const modal = document.getElementById('productModal');
  if(!modal) return;
  if(e.key === 'Escape' && modal.style.display === 'block') closeModal();
});
window.addEventListener('click', function(e){
  const modal = document.getElementById('productModal');
  if(!modal) return;
  if(e.target === modal) closeModal();
});

/* Desktop dropdown hover */
document.querySelectorAll('.dropdown').forEach(drop => {
  let timer;
  const menu = drop.querySelector('.dropdown-content');
  drop.addEventListener('mouseenter', () => { clearTimeout(timer); if(menu){ menu.style.display = 'block'; drop.setAttribute('aria-expanded','true'); } });
  drop.addEventListener('mouseleave', () => { timer = setTimeout(()=>{ if(menu){ menu.style.display = 'none'; drop.setAttribute('aria-expanded','false'); } }, 220); });
});

/* Purple band orbs animation */
(function(){
  const band = document.getElementById('purpleBand');
  if(!band) return;
  function positionBand(){ const header=document.querySelector('header'); if(!header) return; const rect=header.getBoundingClientRect(); const topY = rect.bottom + window.scrollY - 6; band.style.top = topY + 'px'; }
  window.addEventListener('load', positionBand);
  window.addEventListener('resize', positionBand);
  setTimeout(positionBand, 40);

  const orbA = document.getElementById('pOrbA');
  const orbB = document.getElementById('pOrbB');
  const orbC = document.getElementById('pOrbC');
  const orbs = [orbA, orbB, orbC];
  const bright = document.getElementById('purpleBright');

  const params = [
    {rxRatio:0.50, ry:8, speed:0.06, phase:0},
    {rxRatio:0.33, ry:6, speed:0.08, phase:Math.PI/2},
    {rxRatio:0.42, ry:10, speed:0.05, phase:Math.PI}
  ];

  orbs.forEach((o,i)=>{ if(o){ o.classList.add('buzz'); o.style.animationDelay=(i*120)+'ms'; o.style.opacity='1'; } });

  let t0 = performance.now();
  function tick(now){
    const time = (now - t0)/1000;
    const cont = band.querySelector('.container');
    if(!cont){ requestAnimationFrame(tick); return; }
    const rect = cont.getBoundingClientRect();
    const cx = rect.width/2;
    const cy = rect.height/2;
    for(let i=0;i<orbs.length;i++){
      const o = orbs[i]; if(!o) continue;
      const p = params[i];
      const rx = Math.max(Math.min(rect.width * p.rxRatio, 4000), 120);
      const ry = p.ry;
      const angle = (time * p.speed * Math.PI * 2) + p.phase;
      const x = cx + Math.cos(angle) * rx;
      const y = cy + Math.sin(angle) * ry;
      o.style.left = x + 'px';
      o.style.top  = y + 'px';
      o.style.transform = 'translate(-50%,-50%)';
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  function sparkBright(){
    if(!bright) return;
    bright.style.transition = 'none';
    try{
      const len = bright.getTotalLength ? bright.getTotalLength() : 520;
      bright.setAttribute('stroke-dasharray', String(len));
      bright.setAttribute('stroke-dashoffset', String(len));
      setTimeout(()=> {
        bright.style.transition = 'stroke-dashoffset 420ms ease-out, opacity 160ms';
        bright.setAttribute('stroke-dashoffset','0');
        setTimeout(()=> { bright.setAttribute('stroke-dashoffset', String(len)); }, 420);
      }, 80);
    }catch(e){
      bright.setAttribute('stroke-dasharray','520');
      bright.setAttribute('stroke-dashoffset','520');
      setTimeout(()=> { bright.style.transition = 'stroke-dashoffset 420ms ease-out'; bright.setAttribute('stroke-dashoffset','0'); }, 80);
    }
  }

  function spawnSparks(){
    const cont = band.querySelector('.container');
    if(!cont) return;
    for(let i=0;i<7;i++){
      const s = document.createElement('div');
      s.style.position='absolute';
      s.style.left = (6 + Math.random()*88) + '%';
      s.style.top  = (28 + Math.random()*38) + '%';
      s.style.width = (2 + Math.random()*2) + 'px';
      s.style.height = (8 + Math.random()*14) + 'px';
      s.style.borderRadius = '2px';
      /* spark color set to purple variant */
      s.style.background = 'linear-gradient(180deg, rgba(240,230,255,0.95), rgba(142,108,255,0.95))';
      s.style.filter = 'blur(4px)';
      s.style.opacity = '0';
      s.style.transform = 'translateY(6px)';
      s.style.pointerEvents = 'none';
      cont.appendChild(s);
      setTimeout(()=> { s.style.transition = 'all 260ms ease-out'; s.style.opacity='1'; s.style.transform='translateY(-6px)'; }, 20 + i*28);
      setTimeout(()=> { s.style.transition = 'all 460ms ease-in'; s.style.opacity='0'; s.style.transform='translateY(-18px)'; }, 260 + i*36);
      setTimeout(()=> { if(s.parentNode) s.parentNode.removeChild(s); }, 760 + i*36);
    }
  }

  function activate(){
    band.classList.add('active');
    spawnSparks(); sparkBright();
    setInterval(()=> {
      spawnSparks();
      if(Math.random() > 0.45) sparkBright();
    }, 1100 + Math.random()*1000);
  }

  const title = document.querySelector('.company-name');
  if(title){ title.addEventListener('click', ()=> { const on = band.classList.toggle('active'); if(on){ spawnSparks(); sparkBright(); } }); }

  activate();
  window.addEventListener('resize', ()=>{ t0 = performance.now(); });

})();

/* MOBILE menu behavior */
(function(){
  const burger = document.getElementById('burgerBtn');
  const mobileNav = document.getElementById('mobileNav');
  if(!burger || !mobileNav) return;

  burger.addEventListener('click', ()=> {
    const opened = mobileNav.classList.toggle('open');
    burger.classList.toggle('open', opened);
    burger.setAttribute('aria-expanded', String(opened));
    mobileNav.setAttribute('aria-hidden', String(!opened));
    mobileNav.style.display = opened ? 'block' : 'none';
    document.body.style.overflow = opened ? 'hidden' : '';
    const domoSub = document.getElementById('mobileDomotiqueSub');
    const domoToggle = document.getElementById('mobileDomotiqueToggle');
    if(opened && domoToggle && domoToggle.classList.contains('active')){
      domoSub.style.display = 'flex';
      domoToggle.setAttribute('aria-expanded','true');
    }
  });

  function disableActiveLinksInMobile(){
    if(!mobileNav) return;
    const anchors = mobileNav.querySelectorAll('a');
    const current = window.location.pathname.split('/').pop().toLowerCase() || 'particuliers.html';
    anchors.forEach(a=>{
      const href = (a.getAttribute('href') || '').split('/').pop().toLowerCase();
      if(!href) return;
      if(href === current && (href === 'particuliers.html' || href === 'domotique.html' || href === 'maison.html')){
        a.classList.add('mobile-disabled');
        a.setAttribute('aria-disabled','true');
        a.setAttribute('tabindex','-1');
        if(a.hasAttribute('href')){
          a.dataset.href = a.getAttribute('href');
          a.removeAttribute('href');
        }
      }
    });
  }
  disableActiveLinksInMobile();

  mobileNav.addEventListener('click', function(e){
    const a = e.target.closest('a');
    if(!a) return;
    if(a.querySelector('.caret')) return;
    if(a.classList.contains('mobile-disabled')){
      e.preventDefault(); e.stopPropagation();
      return;
    }
    mobileNav.classList.remove('open');
    burger.classList.remove('open');
    mobileNav.setAttribute('aria-hidden','true');
    burger.setAttribute('aria-expanded','false');
    mobileNav.style.display = 'none';
    document.body.style.overflow = '';
  });

  function attachCaretToggle(toggleId, submenuId){
    const toggle = document.getElementById(toggleId);
    const submenu = document.getElementById(submenuId);
    if(!toggle || !submenu) return;
    toggle.addEventListener('click', function(e){
      if(e.target.closest('.caret') || e.target.closest('i') || e.target.closest('svg')){
        e.preventDefault();
        e.stopPropagation();
        const opening = submenu.style.display !== 'flex';
        document.querySelectorAll('.mobile-nav .submenu').forEach(s=>{ if(s!==submenu) s.style.display='none'; });
        submenu.style.display = opening ? 'flex' : 'none';
        toggle.setAttribute('aria-expanded', String(opening));
        toggle.classList.toggle('active', opening);
        mobileNav.classList.add('open');
        burger.classList.add('open');
        mobileNav.setAttribute('aria-hidden','false');
        burger.setAttribute('aria-expanded','true');
        document.body.style.overflow = 'hidden';
      } else {
        mobileNav.classList.remove('open');
        burger.classList.remove('open');
        mobileNav.setAttribute('aria-hidden','true');
        burger.setAttribute('aria-expanded','false');
        mobileNav.style.display = 'none';
        document.body.style.overflow = '';
      }
    });
  }
  attachCaretToggle('mobileDomotiqueToggle','mobileDomotiqueSub');

  document.querySelectorAll('.dropdown').forEach(drop => {
    const parentLink = drop.querySelector('a');
    const menu = drop.querySelector('.dropdown-content');
    if(!parentLink || !menu) return;
    parentLink.addEventListener('click', function(e){
      if(window.innerWidth <= 1100){
        e.preventDefault();
        drop.classList.toggle('show');
        if(drop.classList.contains('show')) { menu.style.display='block'; drop.setAttribute('aria-expanded','true'); }
        else { menu.style.display='none'; drop.setAttribute('aria-expanded','false'); }
      }
    });
    window.addEventListener('resize', function(){
      if(window.innerWidth > 1100){
        drop.classList.remove('show');
        drop.setAttribute('aria-expanded','false');
        if(menu) menu.style.display = 'none';
      }
    });
  });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && mobileNav.classList.contains('open')){
      mobileNav.classList.remove('open');
      burger.classList.remove('open');
      mobileNav.setAttribute('aria-hidden','true');
      burger.setAttribute('aria-expanded','false');
      mobileNav.style.display = 'none';
      document.body.style.overflow = '';
    }
  });

  function openActiveSubmenuOnSmall(){
    if(window.innerWidth <= 1100){
      const activeToggle = document.getElementById('mobileDomotiqueToggle');
      const activeSub = document.getElementById('mobileDomotiqueSub');
      if(activeToggle && activeSub){
        activeSub.style.display = 'flex';
        activeToggle.setAttribute('aria-expanded','true');
        activeToggle.classList.add('active');
      }
    } else {
      const activeSub = document.getElementById('mobileDomotiqueSub');
      if(activeSub) activeSub.style.display = 'none';
    }
  }
  window.addEventListener('resize', openActiveSubmenuOnSmall);
  openActiveSubmenuOnSmall();

})();

/* Auto-detect active nav link ‚Äî update parent badge for dropdown children.
   Uses the same active color / background as other pages (accent-2). */
(function(){
  const raw = window.location.pathname.split('/').pop().toLowerCase();
  const path = raw || 'particuliers.html';
  const mapping = {
    'Code1.html':'a[href="Code1.html"]',
    'code1.html':'a[href="Code1.html"]',
    'energie.html':'a[href="energie.html"]',
    'domotique.html':'a[href="domotique.html"]',
    'maison.html':'a[href="maison.html"]',
    'eclairage.html':'a[href="eclairage.html"]',
    'gestion.html':'a[href="gestion.html"]',
    'multimedia.html':'a[href="multimedia.html"]',
    'securite.html':'a[href="securite.html"]',
    'maintenance.html':'a[href="maintenance.html"]',
    'particuliers.html':'a[href="particuliers.html"]',
    'professionnels.html':'a[href="professionnels.html"]'
  };

  const sel = mapping[path];
  if(!sel) return;
  const el = document.querySelector(sel);
  if(!el) return;

  // clear other active states (desktop)
  document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
  // set top-level or the link itself active
  el.classList.add('active');

  const inDropdown = el.closest('.dropdown-content');
  if(inDropdown){
    const dropdownParent = el.closest('.dropdown');
    if(dropdownParent){
      const parentLink = dropdownParent.querySelector('a[href="domotique.html"], a[data-current]');
      if(parentLink){
        parentLink.classList.add('active');
        const subBadge = parentLink.querySelector('.sub-badge');
        if(subBadge){
          const label = el.textContent ? el.textContent.trim() : subBadge.textContent.trim();
          subBadge.textContent = label;
          // keep badge yellow-looking like other pages
          subBadge.style.background = 'rgba(255,214,0,0.08)';
          subBadge.style.color = 'var(--electric-yellow)';
          subBadge.style.boxShadow = '';
        }
      }
    }
    // mark the child as active-item (desktop dropdown styling)
    el.classList.add('active-item');
  }

  // mobile reflect active child
  document.querySelectorAll('.mobile-nav a').forEach(a=>{
    try{
      if(a.getAttribute('href') === el.getAttribute('href')){
        a.classList.add('active');
        const parentSub = a.closest('.submenu');
        if(parentSub){
          parentSub.style.display = 'flex';
          const toggle = document.getElementById('mobileDomotiqueToggle');
          if(toggle){ toggle.classList.add('active'); toggle.setAttribute('aria-expanded','true'); }
        }
        // mark mobile item as current page (aria-current) and disable link to match other pages
        a.setAttribute('aria-current','page');
        a.classList.add('mobile-disabled');
        a.setAttribute('aria-disabled','true');
        a.setAttribute('tabindex','-1');
        if(a.hasAttribute('href')){ a.dataset.href = a.getAttribute('href'); a.removeAttribute('href'); }
      }
    }catch(e){}
  });
})();

/* Devis form handling (simulation) */
document.getElementById('devisForm').addEventListener('submit', function(e){
  e.preventDefault();
  const nom = document.getElementById('nom').value.trim();
  const tel = document.getElementById('tel').value.trim();
  const email = document.getElementById('email').value.trim();
  const projet = document.getElementById('projet').value;
  const status = document.getElementById('formStatus');
  if(!nom || !tel || !email || !projet){
    status.innerText = 'Merci de remplir les champs obligatoires.';
    return;
  }
  status.innerText = 'Envoi en cours‚Ä¶';
  setTimeout(()=>{ status.innerText = 'Merci ! Nous vous contacterons sous 48h ouvr√©es.'; document.getElementById('devisForm').reset(); }, 900);
});

/* Booking helper */
function bookCall(product){
  if(product){
    try{ document.getElementById('message').value = `Je souhaite un RDV pour : ${product}`; }catch(e){}
  }
  if(/Mobi|Android/i.test(navigator.userAgent)){
    window.location.href = 'tel:+22507070707';
    return;
  }
  document.getElementById('devis').scrollIntoView({behavior:'smooth'});
  try{ document.getElementById('nom').focus(); }catch(e){}
}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GreenBridge S√©curit√© - √âclairage s√©curis√©</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --topbar-h:48px; --header-h:72px;
  --green-dark:#061f14; --green-mid:#073217; --green-mid-2:#0b4d26;
  --accent:#7cb342; --accent-2:#a8e6a1; --bg:#0a4d2e;
  --card-gap:20px; --card-radius:14px;
  --electric-yellow:#ffd600;
} 
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:'Poppins',Arial,sans-serif;background:var(--bg);color:#fff;scroll-behavior:smooth;overflow-x:hidden}
a{color:inherit;text-decoration:none}

/* Topbar */
.topbar{position:fixed;top:0;left:0;right:0;height:var(--topbar-h);background:var(--green-dark);display:flex;align-items:center;justify-content:space-between;gap:12px;padding:0 5vw;z-index:1800;font-size:14px}
.topbar a{color:#fff;transition:color .18s}
.topbar a:hover{color:var(--accent-2)}

/* Header */
header{position:fixed;top:var(--topbar-h);left:0;right:0;height:var(--header-h);background:linear-gradient(90deg,var(--green-mid),var(--green-mid-2));display:flex;align-items:center;justify-content:space-between;padding:0 5vw;z-index:1750;box-shadow:0 4px 12px rgba(0,0,0,.25)}
.logo-text{display:flex;align-items:center;gap:12px}
.logo-text img{height:56px}
.company-name{
  font-size:28px;
  font-weight:800;
  letter-spacing:1px;
  padding:6px 10px;
  border-radius:8px;
  color:var(--electric-yellow);
  -webkit-text-stroke:0.6px rgba(0,0,0,0.2);
  text-shadow:0 3px 6px rgba(0,0,0,0.6);
  position:relative;
} 
nav{display:flex;gap:18px;align-items:center}
nav a{color:#fff;font-size:15px;font-weight:600;padding:8px 10px;border-radius:8px;transition:all .18s;display:flex;gap:8px;align-items:center}
nav a:hover{color:var(--accent-2)}
nav a.active{color:var(--accent-2);background:linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));border:1px solid rgba(212,175,55,0.22);padding:10px 14px;font-weight:800;border-radius:10px}

.dropdown{position:relative}
.dropdown>a{display:flex;gap:8px;align-items:center;cursor:pointer;font-weight:700}
.dropdown>a .sub-badge{margin-left:8px;padding:6px 10px;border-radius:10px;background: rgba(255,214,0,0.08);color: var(--electric-yellow);font-weight:800;font-size:13px;white-space:nowrap;display:inline-flex;align-items:center;box-shadow: 0 6px 18px rgba(0,0,0,0.32);}
.dropdown>a.no-arrow::after{content:none !important}
.dropdown>a::after{content:"\25BC";font-size:12px;margin-left:6px;transition:transform .2s;color:var(--accent-2);opacity:0.95}
.dropdown[aria-expanded="true"]>a::after{transform:rotate(180deg)}
.dropdown-content{display:none;position:absolute;top:calc(100% + 8px);left:0;background:rgba(0,0,0,0.85);padding:8px 0;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.5);min-width:260px;z-index:2000;white-space:nowrap}
.dropdown-content li{list-style:none}
.dropdown-content a{display:block;padding:10px 16px;color:#fff;font-weight:600;border-radius:8px}
.dropdown-content a:hover{background:rgba(168,230,161,0.12);color:var(--accent-2);padding-left:24px}
.dropdown-content .active-item{display:block;color:var(--accent-2);background:linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));border:1px solid rgba(212,175,55,0.12);padding:10px 16px;font-weight:800;border-radius:8px;margin:4px 8px;cursor:default}

/* Burger */
.burger{display:none;width:44px;height:44px;border-radius:8px;border:none;background:transparent;align-items:center;justify-content:center;cursor:pointer}
.burger .icon{display:block;position:relative;width:26px;height:18px}
.burger .icon span{position:absolute;left:0;right:0;height:3px;background:#fff;border-radius:2px;transition:all .25s}
.burger .icon span:nth-child(1){top:0}
.burger .icon span:nth-child(2){top:7.5px}
.burger .icon span:nth-child(3){top:15px}
.burger.open .icon span:nth-child(1){transform: translateY(7.5px) rotate(45deg)}
.burger.open .icon span:nth-child(2){opacity:0}
.burger.open .icon span:nth-child(3){transform: translateY(-7.5px) rotate(-45deg)}

.mobile-nav{display:none;position:fixed;top:calc(var(--topbar-h) + var(--header-h));left:0;right:0;background:var(--bg);z-index:1790;box-shadow:0 12px 40px rgba(0,0,0,.45);overflow:auto;max-height:0;transition:max-height .28s ease}
.mobile-nav.open{display:block;max-height:85vh}
.mobile-nav .inner{padding:12px 5vw;display:flex;flex-direction:column;gap:8px;align-items:stretch;position:relative}
.mobile-nav a{padding:12px;color:#fff;width:100%;text-align:left;border-radius:8px;font-weight:700;display:flex;justify-content:space-between;align-items:center}
.mobile-nav a:hover{background:rgba(124,179,66,0.06);color:var(--accent-2)}
.mobile-nav a.active{background:linear-gradient(90deg, rgba(212,175,55,0.06), rgba(212,175,55,0.03));color:var(--accent-2)}
.mobile-nav .submenu{display:none;flex-direction:column;padding-left:12px;margin-top:6px;margin-bottom:6px;gap:6px}
.mobile-nav .submenu a{font-weight:600;padding:8px 12px;border-radius:6px;text-align:left}
.mobile-nav a.mobile-disabled{pointer-events:none;cursor:default;opacity:0.95;color:rgba(255,255,255,0.65) !important;padding-left:12px;background:transparent}

.mobile-nav .mobile-link.active[data-current]::after{content:attr(data-current);margin-left:8px;padding:6px 10px;border-radius:8px;background:rgba(255,214,0,0.06);color:var(--accent-2);font-weight:800;font-size:13px;white-space:nowrap}
.caret{margin-left:8px;display:inline-flex;align-items:center;justify-content:center;font-size:14px;color:inherit}

/* Hero */
.hero{margin-top:calc(var(--topbar-h) + var(--header-h));height:35vh;min-height:240px;background:url('eclairage_securite_hero.png') center top / cover no-repeat;display:flex;align-items:center;justify-content:center;position:relative;text-align:center}
.hero::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,.5)}
.hero-content{position:relative;z-index:1;max-width:900px;padding:0 20px;display:flex;flex-direction:column;align-items:center;gap:12px}
.hero-content h1{font-size:36px;margin:0;color:#fff}
.hero-content p{font-size:18px;margin:0;color:#fff}
.btn-primary{padding:12px 28px;border-radius:8px;border:0;background:var(--accent);color:#072012;font-weight:700;cursor:pointer}
.btn-primary:hover{background:var(--accent-2)}

.section{padding:40px 5vw;text-align:center}
.section h2{font-size:28px;margin-bottom:16px;color:var(--accent-2);display:flex;gap:10px;align-items:center;justify-content:center}
.section p.description{max-width:900px;margin:0 auto 20px;color:#e6f7ea;line-height:1.6}
.cards{display:flex;gap:var(--card-gap);flex-wrap:wrap;justify-content:center;align-items:stretch}
.card{background:#fff;color:#0a4d2e;border-radius:var(--card-radius);overflow:hidden;width:280px;box-shadow:0 10px 22px rgba(0,0,0,0.35);transition:transform .28s;position:relative}
.card img{width:100%;height:180px;object-fit:contain;background:#f8f8f8}
.card-content{padding:18px 20px;text-align:center}
.card-content h3{font-size:18px;margin:6px 0;font-weight:700}
.card-content p{font-size:14px;color:#0a4d2e;margin:8px 0}
.btn{padding:10px 18px;border-radius:8px;border:0;background:#0a4d2e;color:#fff;cursor:pointer}
.btn:hover{background:#7cb342}

.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.6);align-items:center;justify-content:center}
.modal-content{background:#fff;color:#072012;margin:0 auto;padding:18px;border-radius:12px;max-width:520px;position:relative;text-align:center}
.modal-content img{width:100%;height:220px;object-fit:contain;margin-bottom:12px;border-radius:8px}
.close{position:absolute;right:12px;top:8px;background:transparent;border:0;font-size:22px;cursor:pointer;color:#072012}

#devis{padding-bottom:60px}
#devis form{max-width:520px;margin:18px auto 0;display:flex;flex-direction:column;gap:12px;background:rgba(0,0,0,0.55);padding:20px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.4)}
#devis input,#devis textarea,#devis select{width:100%;padding:12px;border-radius:8px;border:1px solid rgba(124,179,66,0.18);background:transparent;color:#fff;font-size:14px}
#devis button{align-self:center;padding:12px 26px;border-radius:10px;border:0;background:var(--accent);color:#072012;font-weight:700;cursor:pointer}
#devis button:hover{background:var(--accent-2)}

footer{background:var(--green-dark);color:#fff;padding:28px 5vw 36px;position:relative;margin-top:40px;text-align:center}
.footer-company{display:block;margin:0 auto 8px;font-size:18px;font-weight:800;color:#04462e;-webkit-text-stroke:0.7px #d4af37;text-shadow:0 3px 6px rgba(0,0,0,0.6);padding:4px 8px;border-radius:6px;width:max-content;background:linear-gradient(90deg, rgba(212,175,55,0.02), rgba(255,255,255,0) 40%)}
.footer-contact{margin-top:6px;color:#e6f7ea;line-height:1.6}

.purple-band{position:fixed;top:calc(var(--topbar-h) + var(--header-h) - 6px);left:0;right:0;height:14px;z-index:1900;pointer-events:none;overflow:visible;transform:translateZ(0)}
.line-svg{width:100vw;height:100%;display:block;pointer-events:none;mix-blend-mode:screen;opacity:0.98}
.orb{position:absolute;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #fff6f6, #e53935);box-shadow:0 0 12px rgba(229,57,53,0.95),0 0 24px rgba(229,57,53,0.18);transform:translate(-50%,-50%);opacity:0;transition:opacity .18s linear}
.purple-band.active .orb{opacity:1}

@media (max-width:1100px){nav{display:none}.burger{display:flex}.mobile-nav .submenu{display:none}.mobile-nav.open .submenu{display:flex}}
@media (max-width:820px){.card{width:100%;max-width:640px}.hero{height:40vh}.company-name{font-size:24px}.cards{flex-direction:column;align-items:center}}
@media (min-width:1101px){.row-five{flex-wrap:nowrap;justify-content:flex-start;align-items:stretch}.row-five>.card{flex:0 0 calc((100% - (4 * var(--card-gap))) / 5);max-width:none;width:auto}}

/* small orb animation to add "energy" */
@keyframes buzz-h{ 0%{ transform: translate(-50%,-50%) translateX(-1.2px);} 50%{ transform: translate(-50%,-50%) translateX(1.2px);} 100%{ transform: translate(-50%,-50%) translateX(-1.2px);} }
.orb.buzz{ animation:buzz-h 1.6s linear infinite }

</style>
</head>
<body data-page="securite">

<!-- Topbar -->
<div class="topbar" role="banner">
  <div><a href="#" aria-label="Localisation"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Abidjan, C√¥te d‚ÄôIvoire</a></div>
  <div><a href="tel:+22507070707"><i class="fas fa-phone" aria-hidden="true"></i> +225 07 07 07 07 07</a></div>
</div>

<!-- Header -->
<header role="navigation" aria-label="Main">
  <div class="logo-text">
    <a href="code1.html"><img src="green bridge domo.png" alt="Logo GreenBridge"></a>
    <div class="company-name">GREENBRIDGE</div>
  </div>

  <button class="burger" id="burgerBtn" aria-label="Ouvrir le menu mobile" aria-expanded="false" aria-controls="mobileNav">
    <span class="icon"><span></span><span></span><span></span></span>
  </button>

  <nav aria-label="Menu principal">
    <a href="code1.html">Accueil</a>
    <a href="energie.html">√ânergie</a>
    <div class="dropdown" id="dropdownDomotique" aria-haspopup="true" aria-expanded="false">
      <a href="domotique.html" class="domotique-link no-arrow">Domotique</a>
      <ul class="dropdown-content" role="menu" aria-label="Sous-menu domotique">
        <li><a href="maison.html">üè† Maison connect√©e</a></li>
        <li><a href="eclairage.html">üí° √âclairage intelligent</a></li>
        <li><a href="gestion.html">üå°Ô∏è Gestion du climat</a></li>
        <li><a href="multimedia.html">üé∂ Multim√©dia int√©gr√©</a></li>
      </ul>
    </div>

    <div class="dropdown" id="dropdownSecurite" aria-haspopup="true" aria-expanded="false">
      <a href="securite.html" class="securite-link" data-current="üí° √âclairage s√©curis√©">S√©curit√©
        <span class="sub-badge">üí° √âclairage s√©curis√©</span>
      </a>
      <ul class="dropdown-content" role="menu" aria-label="Sous-menu s√©curit√©">
        <li><a href="camera.html">üé• Cam√©ras de surveillance</a></li>
        <li><a href="alarmes.html">üîî Alarmes & d√©tecteurs</a></li>
        <li><a href="controle.html">üîí Contr√¥le d‚Äôacc√®s</a></li>
        <li><a href="eclairage_securite.html" class="active-item" aria-current="page">üí° √âclairage s√©curis√©</a></li>
      </ul>
    </div>

    <a href="maintenance.html">Maintenance</a>
  </nav>
</header>

<!-- mobile nav -->
<div class="mobile-nav" id="mobileNav" aria-hidden="true" style="display:none;">
  <div class="inner">
    <a href="code1.html" class="mobile-link">Accueil</a>
    <a href="energie.html" class="mobile-link">√ânergie</a>
    <a href="domotique.html" class="mobile-link">Domotique</a>

    <a href="securite.html" id="mobileSecToggle" class="mobile-link active" data-current="üí° √âclairage s√©curis√©" aria-expanded="true">
      S√©curit√©
      <span class="caret" aria-hidden="true"><i class="fas fa-chevron-down" style="margin-left:6px"></i></span>
    </a>
    <div class="submenu" id="mobileSecSub" style="display:flex;flex-direction:column;">
      <a href="camera.html">üé• Cam√©ras de surveillance</a>
      <a href="alarmes.html">üîî Alarmes & d√©tecteurs</a>
      <a href="eclairage_securite.html" class="mobile-disabled" aria-current="page">üí° √âclairage s√©curis√©</a>
      <a href="controle.html">üîí Contr√¥le d‚Äôacc√®s</a>
    </div>

    <a href="maintenance.html" class="mobile-link">Maintenance</a>

    <div style="margin-top:8px;border-top:1px solid rgba(255,255,255,0.03);padding-top:10px;display:flex;gap:12px;align-items:center;">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a>
      <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i></a>
      <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
    </div>
  </div>
</div>

<!-- Purple band -->
<div class="purple-band" id="purpleBand" aria-hidden="true">
  <div class="container" aria-hidden="true">
    <svg class="line-svg" viewBox="0 0 2000 40" preserveAspectRatio="none" aria-hidden="true">
      <path class="zap" d="M10,22 C260,6 520,36 840,20 C1120,8 1440,34 1760,18 C1880,6 1960,28 1990,22" stroke-opacity="0.16"/>
      <path class="zap" d="M10,24 C280,36 600,6 860,22 C1140,36 1460,6 1800,22 C1880,36 1960,10 1990,22" stroke-opacity="0.10"/>
      <path class="bright" id="purpleBright" d="M20,22 C300,6 600,34 880,16 C1240,0 1520,32 1860,14 C1960,2 1980,30 1990,22" stroke-opacity="1" stroke-dasharray="520" stroke-dashoffset="520"/>
    </svg>
    <div class="orbs" id="purpleOrbs">
      <div class="orb" id="pOrbA" aria-hidden="true"></div>
      <div class="orb" id="pOrbB" aria-hidden="true"></div>
      <div class="orb" id="pOrbC" aria-hidden="true"></div>
    </div>
    <div class="glowline" id="pGlowline"></div>
  </div>
</div>

<!-- Hero -->
<section class="hero" aria-label="Hero">
  <div class="hero-content">
    <h1>√âclairage s√©curis√©</h1>
    <p>Automatisation pour s√©curiser vos espaces ext√©rieurs et prot√©ger vos locaux.</p>
    <button class="btn-primary" onclick="document.getElementById('devis').scrollIntoView({behavior:'smooth'});">Demander un devis</button>
  </div>
</section>

<!-- R√©sidentiels -->
<section class="section" aria-label="R√©sidentiels">
  <h2><i class="fas fa-home"></i> R√©sidentiels</h2>
  <p class="description">Lampes automatiques compactes pour jardins et all√©es.</p>
  <div class="cards" role="list" aria-label="√âclairage r√©sidentiel">
    <div class="card" role="listitem">
      <img src="eclairage1.png" alt="√âclairage ext√©rieur automatique" loading="lazy">
      <div class="card-content">
        <h3>√âclairage ext√©rieur automatique</h3>
        <p>Allumage automatique √† la d√©tection de mouvement.</p>
        <button class="btn" onclick="openModal('eclairage1.png','√âclairage ext√©rieur automatique','Allumage automatique √† la d√©tection de mouvement.')">D√©tails</button>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="eclairage_solaire.png" alt="√âclairage solaire" loading="lazy">
      <div class="card-content">
        <h3>√âclairage solaire</h3>
        <p>Autonomie solaire pour zones sans alimentation filaire.</p>
        <button class="btn" onclick="openModal('eclairage_solaire.png','√âclairage solaire','Panneaux int√©gr√©s, autonomie nocturne.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Professionnels -->
<section class="section" aria-label="Professionnels">
  <h2><i class="fas fa-building"></i> Professionnels</h2>
  <p class="description">Projecteurs, bornes et √©clairage IP pour commerces et parkings.</p>
  <div class="cards" role="list" aria-label="√âclairage professionnel">
    <div class="card" role="listitem">
      <img src="projecteur_ip.png" alt="Projecteur IP" loading="lazy">
      <div class="card-content">
        <h3>Projecteur IP</h3>
        <p>Pilotable, d√©tection et intensit√© r√©glable.</p>
        <button class="btn" onclick="openModal('projecteur_ip.png','Projecteur IP','Pilotable, d√©tection et intensit√© r√©glable.')">D√©tails</button>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="borne_eclairage.png" alt="Borne d'√©clairage" loading="lazy">
      <div class="card-content">
        <h3>Borne d'√©clairage</h3>
        <p>Solution esth√©tique pour all√©es et parkings.</p>
        <button class="btn" onclick="openModal('borne_eclairage.png','Borne d\'√©clairage','Design robuste, IP65, gestion horaires.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Industriels -->
<section class="section" aria-label="Industriels">
  <h2><i class="fas fa-industry"></i> Industriels</h2>
  <p class="description">√âclairage anti-explosion, balisage et solutions haute durabilit√©.</p>
  <div class="cards" role="list" aria-label="√âclairage industriel">
    <div class="card" role="listitem">
      <img src="projecteur_indus.png" alt="Projecteur industriel" loading="lazy">
      <div class="card-content">
        <h3>Projecteur industriel</h3>
        <p>Puissance √©lev√©e, IP67 et longue dur√©e de vie.</p>
        <button class="btn" onclick="openModal('projecteur_indus.png','Projecteur industriel','IP67, haute puissance, long√©vit√©.')">D√©tails</button>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="balisage.png" alt="Balisage s√©curit√©" loading="lazy">
      <div class="card-content">
        <h3>Balisage & signalisation</h3>
        <p>Balises LED pour s√©curit√© des zones sensibles.</p>
        <button class="btn" onclick="openModal('balisage.png','Balisage & signalisation','LED haute visibilit√© pour s√©curit√©.')">D√©tails</button>
      </div>
    </div>

    <div class="card" role="listitem">
      <img src="controle_eclairage_scada.png" alt="Supervision √©clairage" loading="lazy">
      <div class="card-content">
        <h3>Supervision & SCADA</h3>
        <p>Int√©gration pour supervision centralis√©e et logs.</p>
        <button class="btn" onclick="openModal('controle_eclairage_scada.png','Supervision & SCADA','Int√©gration API, logs et supervision.')">D√©tails</button>
      </div>
    </div>
  </div>
</section>

<!-- Modal -->
<div id="productModal" class="modal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true">
    <button class="close" onclick="closeModal()" aria-label="Fermer">&times;</button>
    <img id="modalImg" src="" alt="">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
  </div>
</div>

<!-- Devis -->
<section id="devis" class="section">
  <h2>Demandez votre devis personnalis√©</h2>
  <form>
    <input type="text" placeholder="Nom" required>
    <input type="email" placeholder="Email" required>
    <select required>
      <option value="">Type de projet</option>
      <option value="domotique">Domotique</option>
      <option value="energie">√ânergie</option>
      <option value="securite" selected>S√©curit√©</option>
    </select>
    <textarea placeholder="Message ou d√©tails du projet" required></textarea>
    <button type="submit" class="btn-primary">Envoyer le devis</button>
  </form>
</section>

<!-- Footer -->
<footer>
  <div class="footer-company">GREENBRIDGE</div>
  <div class="footer-contact">
    <div>¬© 2025 GreenBridge S√©curit√©. Tous droits r√©serv√©s.</div>
    <div>Abidjan, C√¥te d‚ÄôIvoire</div>
    <div>Tel: +225 07 07 07 07 07</div>
  </div>
</footer>

<script>
/* Modal helpers */
function openModal(img,title,desc){
  const modal = document.getElementById('productModal');
  document.getElementById('modalImg').src = img || '';
  document.getElementById('modalImg').alt = title || '';
  document.getElementById('modalTitle').innerText = title || '';
  document.getElementById('modalDesc').innerText = desc || '';
  if(modal){ modal.style.display = 'flex'; modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
}
function closeModal(){ const el=document.getElementById('productModal'); if(el){ el.style.display='none'; el.setAttribute('aria-hidden','true'); document.body.style.overflow=''; } }
window.addEventListener('click', function(e){ let modal=document.getElementById('productModal'); if(modal && e.target===modal){ closeModal(); } });

/* Desktop dropdown hover */
document.querySelectorAll('.dropdown').forEach(drop => {
  let timer;
  const menu = drop.querySelector('.dropdown-content');
  drop.addEventListener('mouseenter', () => { clearTimeout(timer); if(menu){ menu.style.display = 'block'; drop.setAttribute('aria-expanded','true'); } });
  drop.addEventListener('mouseleave', () => { timer = setTimeout(()=>{ if(menu){ menu.style.display = 'none'; drop.setAttribute('aria-expanded','false'); } }, 220); });
});

/* Purple band animation (same as other pages) */
(function(){
  const band = document.getElementById('purpleBand');
  if(!band) return;
  function positionBand(){ const header=document.querySelector('header'); if(!header) return; const rect=header.getBoundingClientRect(); const topY = rect.bottom + window.scrollY - 6; band.style.top = topY + 'px'; }
  window.addEventListener('load', positionBand);
  window.addEventListener('resize', positionBand);
  setTimeout(positionBand, 40);

  const orbA = document.getElementById('pOrbA');
  const orbB = document.getElementById('pOrbB');
  const orbC = document.getElementById('pOrbC');
  const orbs = [orbA, orbB, orbC];
  const bright = document.getElementById('purpleBright');
  const params = [ {rxRatio:0.5, ry:8, speed:0.06, phase:0}, {rxRatio:0.33, ry:6, speed:0.08, phase:Math.PI/2}, {rxRatio:0.42, ry:10, speed:0.05, phase:Math.PI} ];
  orbs.forEach((o,i)=>{ if(o){ o.classList.add('buzz'); o.style.animationDelay=(i*120)+'ms'; o.style.opacity='1'; } });
  let t0 = performance.now();
  function tick(now){
    const time = (now - t0)/1000;
    const cont = band.querySelector('.container');
    if(!cont){ requestAnimationFrame(tick); return; }
    const rect = cont.getBoundingClientRect();
    const cx = rect.width/2; const cy = rect.height/2;
    for(let i=0;i<orbs.length;i++){
      const o = orbs[i]; if(!o) continue; const p = params[i]; const rx = Math.max(Math.min(rect.width * p.rxRatio, 4000), 120); const ry = p.ry; const angle = (time * p.speed * Math.PI * 2) + p.phase; const x = cx + Math.cos(angle) * rx; const y = cy + Math.sin(angle) * ry; o.style.left = x + 'px'; o.style.top = y + 'px'; o.style.transform = 'translate(-50%,-50%)'; }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  function sparkBright(){ if(!bright) return; bright.style.transition='none'; try{ const len = bright.getTotalLength ? bright.getTotalLength() : 520; bright.setAttribute('stroke-dasharray', String(len)); bright.setAttribute('stroke-dashoffset', String(len)); setTimeout(()=> { bright.style.transition = 'stroke-dashoffset 420ms ease-out, opacity 160ms'; bright.setAttribute('stroke-dashoffset','0'); setTimeout(()=> { bright.setAttribute('stroke-dashoffset', String(len)); }, 420); }, 80); }catch(e){ bright.setAttribute('stroke-dasharray','520'); bright.setAttribute('stroke-dashoffset','520'); setTimeout(()=> { bright.style.transition = 'stroke-dashoffset 420ms ease-out'; bright.setAttribute('stroke-dashoffset','0'); }, 80); } }

  function spawnSparks(){ const cont = band.querySelector('.container'); if(!cont) return; for(let i=0;i<7;i++){ const s = document.createElement('div'); s.style.position='absolute'; s.style.left = (6 + Math.random()*88) + '%'; s.style.top = (28 + Math.random()*38) + '%'; s.style.width = (2 + Math.random()*2) + 'px'; s.style.height = (8 + Math.random()*14) + 'px'; s.style.borderRadius = '2px'; s.style.background = 'linear-gradient(180deg, rgba(255,230,230,0.95), rgba(229,57,53,0.95))'; s.style.filter = 'blur(4px)'; s.style.opacity = '0'; s.style.transform = 'translateY(6px)'; s.style.pointerEvents = 'none'; cont.appendChild(s); setTimeout(()=> { s.style.transition = 'all 260ms ease-out'; s.style.opacity='1'; s.style.transform='translateY(-6px)'; }, 20 + i*28); setTimeout(()=> { s.style.transition = 'all 460ms ease-in'; s.style.opacity='0'; s.style.transform='translateY(-18px)'; }, 260 + i*36); setTimeout(()=> { if(s.parentNode) s.parentNode.removeChild(s); }, 760 + i*36); } }

  function activate(){ band.classList.add('active'); spawnSparks(); sparkBright(); setInterval(()=> { spawnSparks(); if(Math.random() > 0.45) sparkBright(); }, 1100 + Math.random()*1000); }
  const title = document.querySelector('.company-name'); if(title){ title.addEventListener('click', ()=> { const on = band.classList.toggle('active'); if(on){ spawnSparks(); sparkBright(); } }); }
  activate(); window.addEventListener('resize', ()=>{ t0 = performance.now(); });
})();

/* Mobile behaviour */
(function(){
  const burger = document.getElementById('burgerBtn');
  const mobileNav = document.getElementById('mobileNav');
  if(!burger || !mobileNav) return;
  burger.addEventListener('click', ()=>{
    const opened = mobileNav.classList.toggle('open'); burger.classList.toggle('open', opened); burger.setAttribute('aria-expanded', String(opened)); mobileNav.setAttribute('aria-hidden', String(!opened)); mobileNav.style.display = opened ? 'block' : 'none'; document.body.style.overflow = opened ? 'hidden' : ''; });

  function disableActiveLinksInMobile(){ if(!mobileNav) return; const anchors = mobileNav.querySelectorAll('a'); anchors.forEach(a=>{ const href = (a.getAttribute('href') || '').split('/').pop().toLowerCase(); if(href === 'eclairage_securite.html'){ a.classList.add('mobile-disabled'); a.setAttribute('aria-disabled','true'); a.setAttribute('tabindex','-1'); if(a.hasAttribute('href')){ a.dataset.href = a.getAttribute('href'); a.removeAttribute('href'); } } else { if(href === 'securite.html'){ a.classList.remove('mobile-disabled'); a.removeAttribute('aria-disabled'); a.removeAttribute('tabindex'); } } }); }
  disableActiveLinksInMobile();

  mobileNav.addEventListener('click', function(e){ const a = e.target.closest('a'); if(!a) return; if(a.classList.contains('mobile-disabled')){ e.preventDefault(); e.stopPropagation(); return; } if(e.target.closest('.caret')) return; mobileNav.classList.remove('open'); burger.classList.remove('open'); mobileNav.setAttribute('aria-hidden','true'); burger.setAttribute('aria-expanded','false'); mobileNav.style.display = 'none'; document.body.style.overflow = ''; });

  const secToggle = document.getElementById('mobileSecToggle'); const secSub = document.getElementById('mobileSecSub');
  if(secToggle && secSub){ secToggle.addEventListener('click', function(e){ if(e.target.closest('.caret')){ e.preventDefault(); e.stopPropagation(); const opening = secSub.style.display !== 'flex'; document.querySelectorAll('.mobile-nav .submenu').forEach(s=>{ if(s!==secSub) s.style.display='none'; }); secSub.style.display = opening ? 'flex' : 'none'; secToggle.setAttribute('aria-expanded', String(opening)); mobileNav.classList.add('open'); burger.classList.add('open'); mobileNav.setAttribute('aria-hidden','false'); burger.setAttribute('aria-expanded','true'); document.body.style.overflow = 'hidden'; } else { mobileNav.classList.remove('open'); burger.classList.remove('open'); mobileNav.setAttribute('aria-hidden','true'); burger.setAttribute('aria-expanded','false'); mobileNav.style.display = 'none'; document.body.style.overflow = ''; } }); }

  function openActiveSubmenuOnSmall(){ if(window.innerWidth <= 1100){ const secSubLocal = document.getElementById('mobileSecSub'); const secToggleLocal = document.getElementById('mobileSecToggle'); if(secSubLocal){ secSubLocal.style.display = 'flex'; if(secToggleLocal) secToggleLocal.setAttribute('aria-expanded','true'); } } else { const secSubLocal = document.getElementById('mobileSecSub'); if(secSubLocal) secSubLocal.style.display = 'none'; } }
  window.addEventListener('resize', openActiveSubmenuOnSmall); openActiveSubmenuOnSmall();

  document.addEventListener('keydown', function(e){ if(e.key === 'Escape' && mobileNav.classList.contains('open')){ mobileNav.classList.remove('open'); burger.classList.remove('open'); mobileNav.setAttribute('aria-hidden','true'); burger.setAttribute('aria-expanded','false'); mobileNav.style.display = 'none'; document.body.style.overflow = ''; } });
})();

/* Force UI active states */
(function(){ try{ const dropdownSec = document.getElementById('dropdownSecurite'); if(dropdownSec){ const parentLink = dropdownSec.querySelector('a'); if(parentLink) parentLink.classList.add('active'); const el = dropdownSec.querySelector('.dropdown-content a[href="eclairage_securite.html"]'); if(el){ el.classList.add('active-item'); el.setAttribute('aria-current','page'); } }
  const mobileSec = document.getElementById('mobileSecToggle'); if(mobileSec){ mobileSec.classList.add('active'); mobileSec.setAttribute('data-current','üí° √âclairage s√©curis√©'); }
  const mobileEl = document.querySelector('#mobileSecSub a[href="eclairage_securite.html"], #mobileSecSub .mobile-disabled'); if(mobileEl){ mobileEl.classList.add('mobile-disabled'); mobileEl.setAttribute('aria-disabled','true'); mobileEl.setAttribute('tabindex','-1'); }
  const band = document.getElementById('purpleBand'); if(band && !band.classList.contains('active')) band.classList.add('active'); ['pOrbA','pOrbB','pOrbC'].forEach(id=>{ const o=document.getElementById(id); if(o){ o.classList.add('buzz'); o.style.opacity='1'; }});
}catch(e){ console.warn(e); } })();
</script>
</body>
</html>
